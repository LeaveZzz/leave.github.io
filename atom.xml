<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LeaveH</title>
  
  <subtitle>å¾ˆé«˜å…´é‡è§ä½ ğŸ˜€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.leospace.cn/"/>
  <updated>2021-07-31T15:45:56.702Z</updated>
  <id>http://blog.leospace.cn/</id>
  
  <author>
    <name>LeaveHao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vueæºç å­¦ä¹ ç¬”è®°(ä¸€)</title>
    <link href="http://blog.leospace.cn/archives/2684979a.html"/>
    <id>http://blog.leospace.cn/archives/2684979a.html</id>
    <published>2021-07-31T02:30:11.000Z</published>
    <updated>2021-07-31T15:45:56.702Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Jul 31 2021 23:47:43 GMT+0800 (GMT+08:00) --><h2 id="mustacheæ¨¡æ¿å¼•æ“"><a href="#mustacheæ¨¡æ¿å¼•æ“" class="headerlink" title="mustacheæ¨¡æ¿å¼•æ“"></a><code>mustache</code>æ¨¡æ¿å¼•æ“</h2><blockquote><p>ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“?<br>æ¨¡æ¿å¼•æ“æ˜¯å°†æ•°æ®å˜ä¸ºè§†å›¾æœ€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p></blockquote><h2 id="å†å²ä¸Šæ›¾ç»å‡ºç°çš„æ•°æ®å˜ä¸ºè§†å›¾çš„æ–¹æ³•"><a href="#å†å²ä¸Šæ›¾ç»å‡ºç°çš„æ•°æ®å˜ä¸ºè§†å›¾çš„æ–¹æ³•" class="headerlink" title="å†å²ä¸Šæ›¾ç»å‡ºç°çš„æ•°æ®å˜ä¸ºè§†å›¾çš„æ–¹æ³•"></a>å†å²ä¸Šæ›¾ç»å‡ºç°çš„æ•°æ®å˜ä¸ºè§†å›¾çš„æ–¹æ³•</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ•°æ® data</span></span><br><span class="line">[</span><br><span class="line">  &#123; <span class="attr">"name"</span>: <span class="string">"å°æ˜"</span>, <span class="attr">"age"</span>: <span class="number">12</span>, <span class="attr">"sex"</span>: <span class="string">"ç”·"</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">"name"</span>: <span class="string">"å°çº¢"</span>, <span class="attr">"age"</span>: <span class="number">11</span>, <span class="attr">"sex"</span>: <span class="string">"å¥³"</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">"name"</span>: <span class="string">"å°å¼º"</span>, <span class="attr">"age"</span>: <span class="number">13</span>, <span class="attr">"sex"</span>: <span class="string">"ç”·"</span> &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è§†å›¾ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hd"</span>&gt;</span>å°æ˜çš„åŸºæœ¬ä¿¡æ¯<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bd"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>å§“å:å°æ˜<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¹´é¾„:12<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ€§åˆ«:ç”·<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hd"</span>&gt;</span>å°çº¢çš„åŸºæœ¬ä¿¡æ¯<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bd"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>å§“å:å°çº¢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¹´é¾„:11<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ€§åˆ«:å¥³<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  â€¦â€¦â€¦â€¦</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="çº¯DOMæ³•"><a href="#çº¯DOMæ³•" class="headerlink" title="çº¯DOMæ³•"></a>çº¯<code>DOM</code>æ³•</h3><p>éå¸¸ç¬¨æ‹™ï¼Œæ²¡æœ‰å®æˆ˜ä»·å€¼</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//æ¯éå†ä¸€é¡¹,éƒ½è¦ç”¨DOMæ–¹æ³•å»åˆ›å»ºliæ ‡ç­¾</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> oLi = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//åˆ›å»ºhdè¿™ä¸ªdiv</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> hdDiv = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">    hdDiv.className = <span class="string">'hd'</span>;</span></span><br><span class="line"><span class="actionscript">    hdDiv.innerText = data[i].name + <span class="string">'çš„åŸºæœ¬ä¿¡æ¯'</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//åˆ›å»ºbdè¿™ä¸ªdiv</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> bdDiv = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">    bdDiv.className = <span class="string">'bd'</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//åˆ›å»ºä¸‰ä¸ªp</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> p1 = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span></span><br><span class="line"><span class="actionscript">    p1.innerText = <span class="string">'å§“å:'</span> + data[i].name;</span></span><br><span class="line">    bdDiv.appendChild(p1);</span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> p2 = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span></span><br><span class="line"><span class="actionscript">    p2.innerText = <span class="string">'å¹´é¾„:'</span> + data[i].age;</span></span><br><span class="line">    bdDiv.appendChild(p2);</span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> p3 = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span></span><br><span class="line"><span class="actionscript">    p3.innerText = <span class="string">'æ€§åˆ«:'</span> + data[i].sex;</span></span><br><span class="line">    bdDiv.appendChild(p3);</span><br><span class="line">    oLi.appendChild(hdDiv);</span><br><span class="line">    oLi.appendChild(bdDiv);</span><br><span class="line">    list.appendChild(oLi);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„joinæ³•"><a href="#æ•°ç»„joinæ³•" class="headerlink" title="æ•°ç»„joinæ³•"></a>æ•°ç»„<code>join</code>æ³•</h3><p>æ›¾å‡ ä½•æ—¶éå¸¸æµè¡Œï¼Œæ˜¯æ›¾ç»çš„å‰ç«¯å¿…ä¼šçŸ¥è¯†</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span></span><br><span class="line">    list.innerHTML += [</span><br><span class="line"><span class="actionscript">      <span class="string">'&lt;li&gt;'</span>,</span></span><br><span class="line"><span class="handlebars"><span class="xml">      '  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hd"</span>&gt;</span>' + data[i].name + 'çš„åŸºæœ¬ä¿¡æ¯<span class="tag">&lt;/<span class="name">div</span>&gt;</span>',</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      '  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bd"</span>&gt;</span>',</span></span></span><br><span class="line"><span class="actionscript">      <span class="string">'    &lt;p&gt;å§“å:'</span> + data[i].name + <span class="string">'&lt;/p&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="string">'    &lt;p&gt;å¹´é¾„:'</span> + data[i].age + <span class="string">'&lt;/p&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="string">'    &lt;p&gt;æ€§åˆ«:'</span> + data[i].sex + <span class="string">'&lt;/p&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="string">'  &lt;/div&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="string">'&lt;/li&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">    ].join(<span class="string">''</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="handlebars"><span class="xml"><span class="tag">&lt;/&gt;</span></span></span></span><br></pre></td></tr></table></figure><h3 id="ES6çš„åå¼•å·æ³•"><a href="#ES6çš„åå¼•å·æ³•" class="headerlink" title="ES6çš„åå¼•å·æ³•"></a><code>ES6</code>çš„åå¼•å·æ³•</h3><p><code>ES6</code> ä¸­æ–°å¢çš„<code>`${a}`</code>è¯­æ³•ç³–ï¼Œå¾ˆå¥½ç”¨</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥mustacheåº“--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./mustache.js"</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  <span class="tag">&lt;/&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span></span><br><span class="line">      list.innerHTML += `</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">          &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"hd"</span>&gt;$&#123;data[i].name&#125;çš„åŸºæœ¬ä¿¡æ¯&lt;<span class="regexp">/div&gt;</span></span></span><br><span class="line"><span class="javascript">          &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"bd"</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>å§“å:$&#123;data[i].name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¹´é¾„:$&#123;data[i].age&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ€§åˆ«:$&#123;data[i].sex&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line">      `;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="mustache-æ¨¡æ¿è¯­æ³•åŸºæœ¬ä½¿ç”¨"><a href="#mustache-æ¨¡æ¿è¯­æ³•åŸºæœ¬ä½¿ç”¨" class="headerlink" title="mustache æ¨¡æ¿è¯­æ³•åŸºæœ¬ä½¿ç”¨"></a>mustache æ¨¡æ¿è¯­æ³•åŸºæœ¬ä½¿ç”¨</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥mustacheåº“--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./mustache.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> templateStr = <span class="string">`</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä»Šå¤©æ˜¯</span><span class="template-variable">&#123;&#123;weather&#125;&#125;</span><span class="xml">,æˆ‘å»</span><span class="template-variable">&#123;&#123;toDo&#125;&#125;</span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>å§“å:</span><span class="template-variable">&#123;&#123;info.name&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¹´é¾„:</span><span class="template-variable">&#123;&#123;info.age&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ±å¥½:</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">          </span><span class="template-tag">&#123;&#123;#<span class="name">info</span>.hobbies&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123;.&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">          </span><span class="template-tag">&#123;&#123;/<span class="name">info</span>.hobbies&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span></span><br><span class="line">          æ•™è‚²ç»å†:</span><br><span class="line"><span class="handlebars"><span class="xml">          </span><span class="template-tag">&#123;&#123;#<span class="name">info</span>.experience&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123;time&#125;&#125;</span><span class="xml">---</span><span class="template-variable">&#123;&#123;thing&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">          </span><span class="template-tag">&#123;&#123;/<span class="name">info</span>.experience&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">    `;</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> data = &#123;</span></span><br><span class="line"><span class="actionscript">    weather: <span class="string">'æ™´å¤©'</span>,</span></span><br><span class="line"><span class="actionscript">    toDo: <span class="string">'å–æ°´æœ'</span>,</span></span><br><span class="line">    info: &#123;</span><br><span class="line"><span class="actionscript">      name: <span class="string">'Leo'</span>,</span></span><br><span class="line">      age: 18,</span><br><span class="line"><span class="actionscript">      hobbies: [<span class="string">'æ‰“ç¯®çƒ'</span>, <span class="string">'æ¸¸æ³³'</span>, <span class="string">'ç»˜ç”»'</span>],</span></span><br><span class="line">      experience: [</span><br><span class="line"><span class="actionscript">        &#123; time: <span class="number">2004</span>, thing: <span class="string">'ä¸Šå°å­¦'</span> &#125;,</span></span><br><span class="line"><span class="actionscript">        &#123; time: <span class="number">2010</span>, thing: <span class="string">'ä¸Šåˆä¸­'</span> &#125;,</span></span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> domStr = Mustache.render(templateStr, data);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> container = <span class="built_in">document</span>.getElementById(<span class="string">'container'</span>);</span></span><br><span class="line">  container.innerHTML = domStr;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ¨æ¨¡æ¿å­—ç¬¦ä¸²æ²¡å‡ºç°ä¹‹å‰,é€šè¿‡scriptæ ‡ç­¾ç¼–å†™ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿™é‡Œtypeä¸­å¯ä»¥éšæ„è¾“å…¥ type="qaq" --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/template"</span> <span class="attr">id</span>=<span class="string">"myTemple"</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä»Šå¤©æ˜¯</span><span class="template-variable">&#123;&#123;weather&#125;&#125;</span><span class="xml">,æˆ‘å»</span><span class="template-variable">&#123;&#123;toDo&#125;&#125;</span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å§“å:</span><span class="template-variable">&#123;&#123;info.name&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¹´é¾„:</span><span class="template-variable">&#123;&#123;info.age&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ±å¥½:</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      </span><span class="template-tag">&#123;&#123;#<span class="name">info</span>.hobbies&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123;.&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      </span><span class="template-tag">&#123;&#123;/<span class="name">info</span>.hobbies&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span></span><br><span class="line">      æ•™è‚²ç»å†:</span><br><span class="line"><span class="handlebars"><span class="xml">      </span><span class="template-tag">&#123;&#123;#<span class="name">info</span>.experience&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123;time&#125;&#125;</span><span class="xml">---</span><span class="template-variable">&#123;&#123;thing&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      </span><span class="template-tag">&#123;&#123;/<span class="name">info</span>.experience&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> data = &#123;</span></span><br><span class="line"><span class="actionscript">    weather: <span class="string">'æ™´å¤©'</span>,</span></span><br><span class="line"><span class="actionscript">    toDo: <span class="string">'å–æ°´æœ'</span>,</span></span><br><span class="line">    info: &#123;</span><br><span class="line"><span class="actionscript">      name: <span class="string">'Leo'</span>,</span></span><br><span class="line">      age: 18,</span><br><span class="line"><span class="actionscript">      hobbies: [<span class="string">'æ‰“ç¯®çƒ'</span>, <span class="string">'æ¸¸æ³³'</span>, <span class="string">'ç»˜ç”»'</span>],</span></span><br><span class="line">      experience: [</span><br><span class="line"><span class="actionscript">        &#123; time: <span class="number">2004</span>, thing: <span class="string">'ä¸Šå°å­¦'</span> &#125;,</span></span><br><span class="line"><span class="actionscript">        &#123; time: <span class="number">2010</span>, thing: <span class="string">'ä¸Šåˆä¸­'</span> &#125;,</span></span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="actionscript">  <span class="comment">//è¿™é‡Œé€šè¿‡IDè·å–scriptæ ‡ç­¾ä¸­çš„æ¨¡æ¿å­—ç¬¦</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> templateStr = <span class="built_in">document</span>.getElementById(<span class="string">'myTemple'</span>).innerHTML;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> domStr = Mustache.render(templateStr, data);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> container = <span class="built_in">document</span>.getElementById(<span class="string">'container'</span>);</span></span><br><span class="line">  container.innerHTML = domStr;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ­£åˆ™è¡¨è¾¾å¼å®ç°ç®€å•æ¨¡æ¿æ•°æ®å¡«å……"><a href="#æ­£åˆ™è¡¨è¾¾å¼å®ç°ç®€å•æ¨¡æ¿æ•°æ®å¡«å……" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼å®ç°ç®€å•æ¨¡æ¿æ•°æ®å¡«å……"></a>æ­£åˆ™è¡¨è¾¾å¼å®ç°ç®€å•æ¨¡æ¿æ•°æ®å¡«å……</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> templateStr = <span class="string">'&lt;p&gt;ä»Šå¤©æ˜¯&#123;&#123;weather&#125;&#125;,æˆ‘å»&#123;&#123;toDo&#125;&#125;&lt;p&gt;'</span>;</span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  weather: <span class="string">'æ™´å¤©'</span>,</span><br><span class="line">  toDo: <span class="string">'æ‰“ç¯®çƒ'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">template, data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> template.replace(<span class="regexp">/\&#123;\&#123;(\w+)\&#125;\&#125;/g</span>, (str, $<span class="number">1</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> data[$<span class="number">1</span>];</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(render(templateStr, data)); <span class="comment">//&lt;p&gt;ä»Šå¤©æ˜¯æ™´å¤©,æˆ‘å»æ‰“ç¯®çƒ&lt;p&gt;</span></span><br></pre></td></tr></table></figure><h2 id="mustache-åº“çš„æœºç†"><a href="#mustache-åº“çš„æœºç†" class="headerlink" title="mustache åº“çš„æœºç†"></a>mustache åº“çš„æœºç†</h2><pre class="mermaid">graph LRid0(æ•°æ®) -- ç»“åˆ --> id3id1(æ¨¡æ¿å­—ç¬¦ä¸²)-- ç¼–è¯‘ --> id2(tokens) -- è§£æ --> id3(domå­—ç¬¦ä¸²)</pre><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      mustacheæ¨¡æ¿å¼•æ“ã€‚
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://blog.leospace.cn/categories/JavaScript/"/>
    
    
      <category term="å‰ç«¯" scheme="http://blog.leospace.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="Vue" scheme="http://blog.leospace.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>TypeScriptå­¦ä¹ ç¬”è®°</title>
    <link href="http://blog.leospace.cn/archives/4a9ed04d.html"/>
    <id>http://blog.leospace.cn/archives/4a9ed04d.html</id>
    <published>2021-07-29T17:32:34.000Z</published>
    <updated>2021-07-31T04:04:25.397Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Jul 31 2021 23:47:43 GMT+0800 (GMT+08:00) --><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><p><code>TypeScript</code>ä¸­ä¸ºäº†ä½¿ç¼–å†™çš„ä»£ç æ›´è§„èŒƒï¼Œå¢åŠ äº†ç±»å‹æ ¡éªŒ</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// js:ç±»å‹å˜åŒ–ä¸æŠ¥é”™</span></span><br><span class="line"><span class="keyword">let</span> flag = <span class="literal">true</span>;</span><br><span class="line">flag = <span class="number">123</span>;</span><br><span class="line"><span class="comment">// ts:å¿…é¡»æŒ‡å®šç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> flag: boolean = <span class="literal">true</span>;</span><br><span class="line">flag = <span class="number">123</span>; <span class="comment">//æŠ¥é”™</span></span><br></pre></td></tr></table></figure><h3 id="å¸ƒå°”ç±»å‹-boolean"><a href="#å¸ƒå°”ç±»å‹-boolean" class="headerlink" title="å¸ƒå°”ç±»å‹(boolean)"></a>å¸ƒå°”ç±»å‹(<code>boolean</code>)</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> flag: boolean = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><h3 id="æ•°å­—ç±»å‹-number"><a href="#æ•°å­—ç±»å‹-number" class="headerlink" title="æ•°å­—ç±»å‹(number)"></a>æ•°å­—ç±»å‹(<code>number</code>)</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> num: number = <span class="number">7</span>;</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²ç±»å‹-string"><a href="#å­—ç¬¦ä¸²ç±»å‹-string" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹(string)"></a>å­—ç¬¦ä¸²ç±»å‹(<code>string</code>)</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str: string = <span class="string">'hello world!'</span>;</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„ç±»å‹-array"><a href="#æ•°ç»„ç±»å‹-array" class="headerlink" title="æ•°ç»„ç±»å‹(array)"></a>æ•°ç»„ç±»å‹(<code>array</code>)</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">let</span> arr1: number[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> arr2: string[] = [<span class="string">'Angular'</span>, <span class="string">'React'</span>, <span class="string">'Vue'</span>];</span><br><span class="line"><span class="keyword">let</span> arr3: any[] = [<span class="string">'hi'</span>, <span class="number">123</span>, <span class="literal">false</span>];</span><br><span class="line"><span class="comment">//å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">let</span> arr4: <span class="built_in">Array</span>&lt;number&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br></pre></td></tr></table></figure><h3 id="å…ƒç»„ç±»å‹-tuple"><a href="#å…ƒç»„ç±»å‹-tuple" class="headerlink" title="å…ƒç»„ç±»å‹(tuple)"></a>å…ƒç»„ç±»å‹(<code>tuple</code>)</h3><p>å…ƒç»„å±äºæ•°ç»„çš„ä¸€ç§ï¼Œå¯ä»¥æŒ‡å®šæ•°ç»„å†…å€¼çš„ç±»å‹(å…ƒç´ é¡ºåºå’Œä¸ªæ•°å¿…é¡»ä¸å®šä¹‰çš„ä¿æŒä¸€è‡´)</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr: [string, number, boolean] = [<span class="string">'hi'</span>, <span class="number">123</span>, <span class="literal">false</span>];</span><br></pre></td></tr></table></figure><h3 id="æšä¸¾ç±»å‹-enum"><a href="#æšä¸¾ç±»å‹-enum" class="headerlink" title="æšä¸¾ç±»å‹(enum)"></a>æšä¸¾ç±»å‹(<code>enum</code>)</h3><p>å¸¸ç”¨æ¥æ ‡è¯†çŠ¶æ€ç </p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">enum Flag&#123;</span><br><span class="line">  success=<span class="number">1</span>,</span><br><span class="line">  error=<span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> f:Flag=Flag.error; <span class="comment">//-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæ ‡è¯†ç¬¦æ²¡æœ‰èµ‹å€¼ï¼Œé‚£ä¹ˆæ‰“å°çš„å°±æ˜¯ä¸‹æ ‡</span></span><br><span class="line">enum Coloe &#123;</span><br><span class="line">  red,</span><br><span class="line">  blue=<span class="string">'#0000FF'</span>,</span><br><span class="line">  orange</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> c1:Color = Color.red; <span class="comment">//0</span></span><br><span class="line"><span class="keyword">let</span> c2:Color = Color.blue; <span class="comment">//'#0000FF'</span></span><br><span class="line"><span class="keyword">let</span> c3:Color = Color.orange; <span class="comment">//2</span></span><br></pre></td></tr></table></figure><h3 id="ä»»æ„ç±»å‹-any"><a href="#ä»»æ„ç±»å‹-any" class="headerlink" title="ä»»æ„ç±»å‹(any)"></a>ä»»æ„ç±»å‹(<code>any</code>)</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> num: any = <span class="number">123</span>;</span><br><span class="line">num = <span class="literal">true</span>; <span class="comment">//ä¸æŠ¥é”™</span></span><br></pre></td></tr></table></figure><h3 id="null-å’Œ-undefined"><a href="#null-å’Œ-undefined" class="headerlink" title="null å’Œ undefined"></a><code>null</code> å’Œ <code>undefined</code></h3><p><code>null</code> å’Œ <code>undefined</code>æ˜¯å…¶ä»–æ•°æ®ç±»å‹(<code>never</code>ç±»å‹)çš„å­ç±»å‹</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å˜é‡å®šä¹‰ä¹‹åæ²¡æœ‰èµ‹å€¼ï¼Œç¼–è¯‘æ—¶ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="keyword">let</span> a: number;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//error TS2454: letiable 'a' is used before being assigned.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ä¸ªå…ƒç´ å¯èƒ½æ˜¯numberç±»å‹ï¼Œå¯èƒ½æ˜¯nullæˆ–è€…undefined</span></span><br><span class="line"><span class="keyword">let</span> b: number | <span class="literal">null</span> | <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">//æ— æŠ¥é”™ï¼Œæ‰“å°undefined</span></span><br></pre></td></tr></table></figure><h3 id="voidç±»å‹"><a href="#voidç±»å‹" class="headerlink" title="voidç±»å‹"></a><code>void</code>ç±»å‹</h3><p><code>void</code>è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼Œä¸€èˆ¬ç”¨äºä¸€ä¸ªæ–¹æ³•æ²¡æœ‰è¿”å›å€¼çš„æƒ…å†µï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ–¹æ³•æ²¡æœ‰è¿”å›å€¼å°†å¾—åˆ°<code>undefined</code>ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å®šä¹‰æˆ<code>void</code>ç±»å‹ï¼Œè€Œä¸æ˜¯<code>undefined</code>ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¦‚æœæ–¹æ³•æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'abc'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœæ–¹æ³•æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params"></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="neverç±»å‹"><a href="#neverç±»å‹" class="headerlink" title="neverç±»å‹"></a><code>never</code>ç±»å‹</h3><ul><li><code>never</code>è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ï¼ŒåŒ…æ‹¬<code>null</code>å’Œ<code>undefined</code>ã€‚</li><li>åœ¨ä¸€ä¸ªæ²¡æœ‰è¿”å›å€¼æ ‡æ³¨çš„å‡½æ•°è¡¨è¾¾å¼æˆ–ç®­å¤´å‡½æ•°ä¸­,å¦‚æœå‡½æ•°æ²¡æœ‰<code>return</code>è¯­å¥,æˆ–è€…ä»…æœ‰è¡¨è¾¾å¼ç±»å‹ä¸º<code>never</code>çš„<code>return</code>è¯­å¥,å¹¶ä¸”å‡½æ•°çš„ç»ˆæ­¢ç‚¹æ— æ³•è¢«æ‰§è¡Œåˆ°(æŒ‰ç…§æ§åˆ¶æµåˆ†æ), åˆ™æ¨å¯¼å‡ºçš„å‡½æ•°è¿”å›å€¼ç±»å‹æ˜¯<code>never</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¿”å›neverçš„å‡½æ•°å¿…é¡»æœ‰æ— æ³•è¢«æ‰§è¡Œåˆ°çš„ç»ˆæ­¢ç‚¹</span></span><br><span class="line"><span class="keyword">let</span> err = (): <span class="function"><span class="params">never</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'å¼‚å¸¸'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> infiniteLoop = (): <span class="function"><span class="params">never</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="å‡½æ•°çš„å®šä¹‰"><a href="#å‡½æ•°çš„å®šä¹‰" class="headerlink" title="å‡½æ•°çš„å®šä¹‰"></a>å‡½æ•°çš„å®šä¹‰</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å‡½æ•°å£°æ˜æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStr</span>(<span class="params"></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'hello world!'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åŒ¿åå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> gerNum = <span class="function"><span class="keyword">function</span> (<span class="params"></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//ç®­å¤´å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> getFlag = (): <span class="function"><span class="params">boolean</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°ä¸­ä¼ å‚"><a href="#å‡½æ•°ä¸­ä¼ å‚" class="headerlink" title="å‡½æ•°ä¸­ä¼ å‚"></a>å‡½æ•°ä¸­ä¼ å‚</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰å‚æ•°çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params">name: string, age: number</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span>---<span class="subst">$&#123;age&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line">getInfo(<span class="string">'Leo'</span>, <span class="number">18</span>); <span class="comment">//Leo---18</span></span><br><span class="line">getInfo(<span class="string">'Leo'</span>); <span class="comment">//ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯é€‰å‚æ•°(å¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å‚æ•°çš„æœ€åé¢)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params">name: string, age?: number</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> age ? <span class="string">`<span class="subst">$&#123;name&#125;</span>---<span class="subst">$&#123;age&#125;</span>`</span> : <span class="string">`<span class="subst">$&#123;name&#125;</span>---å¹´é¾„ä¿å¯†`</span>;</span><br><span class="line">&#125;</span><br><span class="line">getInfo(<span class="string">'Leo'</span>, <span class="number">18</span>); <span class="comment">//Leo---18</span></span><br><span class="line">getInfo(<span class="string">'Leo'</span>); <span class="comment">//Leo---å¹´é¾„ä¿å¯†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params">name: string = <span class="string">'Leo'</span>, age: number = <span class="number">18</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span>---<span class="subst">$&#123;age&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line">getInfo(); <span class="comment">//Leo---18</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰©ä½™å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSum</span>(<span class="params">...args: number[]</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> args.reduce(<span class="function">(<span class="params">pre, item</span>) =&gt;</span> pre + item, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">getSum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>); <span class="comment">//15</span></span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><ul><li><p>æ–¹æ³•é‡è½½(<code>overload</code>)åœ¨ä¼ ç»Ÿçš„é™æ€ç±»å‹è¯­è¨€ä¸­æ˜¯å¾ˆå¸¸è§çš„ã€‚JavaScript ä½œä¸ºåŠ¨æ€è¯­è¨€ï¼Œ æ˜¯æ²¡æœ‰é‡è½½è¿™ä¸€è¯´çš„ã€‚ä¸€æ˜¯å®ƒçš„å‚æ•°æ²¡æœ‰ç±»å‹çš„åŒºåˆ†ï¼ŒäºŒæ˜¯å¯¹å‚æ•°ä¸ªæ•°ä¹Ÿæ²¡æœ‰æ£€æŸ¥ã€‚è™½ç„¶è¯­è¨€å±‚é¢æ— æ³•è‡ªåŠ¨è¿›è¡Œé‡è½½ï¼Œä½†å€ŸåŠ©å…¶åŠ¨æ€çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­æ‰‹åŠ¨æ£€æŸ¥å…¥å‚çš„ç±»å‹ï¼Œæˆ–è€…é€šè¿‡<code>arguments</code>è·å–åˆ°å‚æ•°ä¸ªæ•°ï¼Œä»è€Œå®ç°æ ¹æ®ä¸åŒçš„å…¥å‚åšä¸åŒçš„æ“ä½œã€‚</p></li><li><p>æ¯”å¦‚æœ‰ä¸€ä¸ªè·å–èŠå¤©æ¶ˆæ¯çš„æ–¹æ³•ï¼Œæ ¹æ®ä¼ å…¥çš„å‚æ•°ä»æ•°ç»„ä¸­æŸ¥æ‰¾æ•°æ®ã€‚å¦‚æœå…¥å‚ä¸ºæ•°å­—ï¼Œåˆ™è®¤ä¸ºæ˜¯ idï¼Œç„¶åä»æ•°æ®æºä¸­æ‰¾å¯¹åº” id çš„æ•°æ®å¹¶è¿”å›ï¼Œå¦åˆ™å½“æˆç±»å‹ï¼Œè¿”å›è¿™ä¸€ç±»å‹çš„æ¶ˆæ¯ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//TypeScriptä¸­,å‡å¦‚æˆ‘ä»¬çš„æ¶ˆæ¯æ•°æ®ä¸ºå¦‚ä¸‹ç»“æ„ï¼š</span></span><br><span class="line">type MessageType = <span class="string">'string'</span> | <span class="string">'image'</span> | <span class="string">'audio'</span>;</span><br><span class="line">type Message = &#123;</span><br><span class="line">  id: number,</span><br><span class="line">  type: MessageType,</span><br><span class="line">  content: string,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> data: Message[] = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">type</span>: <span class="string">'string'</span>, <span class="attr">content</span>: <span class="string">'hello'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">type</span>: <span class="string">'image'</span>, <span class="attr">content</span>: <span class="string">'url_for_iamge'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">type</span>: <span class="string">'string'</span>, <span class="attr">content</span>: <span class="string">'world'</span> &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸ä½¿ç”¨é‡è½½å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMessage</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  query: number | MessageType</span></span></span><br><span class="line">): Message[] | Message | undefined &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> query === <span class="string">'number'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data.find(<span class="function"><span class="params">message</span> =&gt;</span> message.id === query);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> data.filter(<span class="function"><span class="params">message</span> =&gt;</span> message.type === query);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿™æ ·åšæœ‰ä¸¤ä¸ªç¼ºç‚¹ä¸€æ˜¯ç±»å‹ä¹¦å†™ä¸Šä¸å¤ªä¼˜é›…ï¼ŒäºŒæ˜¯æ²¡æœ‰å‘æŒ¥å‡ºTypeScriptç±»å‹æ£€æŸ¥çš„ä¼˜åŠ¿ï¼Œè¿™é‡Œæˆ‘ä»¬æ˜¯å¯ä»¥æ ¹æ®å…¥å‚çš„ç±»å‹æ˜ç¡®çŸ¥é“è¿”å›çš„ç±»å‹çš„ï¼Œå³å¦‚æœä¼ å…¥çš„æ˜¯idï¼Œè¿”å›çš„æ˜¯å•ä¸ªæ•°æ®æˆ–undefinedï¼Œå¦‚æœæ˜¯æ ¹æ®ç±»å‹æŸ¥æ‰¾ï¼Œè¿”å›çš„æ˜¯æ•°ç»„ã€‚è€Œç°åœ¨è°ƒç”¨æ–¹æ³•åï¼Œå¾—åˆ°çš„ç±»å‹å¤ªè¿‡å®½æ³›ï¼Œè¿™å’Œä½¿ç”¨any åšä¸ºè¿”å›æ²¡å¤šå¤§å·®åˆ«ã€‚</span></span><br><span class="line"><span class="comment">//å› ä¸ºç±»å‹çš„ä¸æ˜æœ—ï¼Œè¿”å›çš„ç»“æœéƒ½ä¸èƒ½ç›´æ¥æ“ä½œï¼Œéœ€è¦è¿›è¡Œç±»å‹è½¬æ¢åæ‰èƒ½ç»§ç»­ï¼Œå¦åˆ™ç¼–è¯‘ä¼šæŠ¥é”™ã€‚</span></span><br><span class="line"><span class="keyword">let</span> result1 = getMessage(<span class="string">'audio'</span>);</span><br><span class="line"><span class="built_in">console</span>.log((result1 <span class="keyword">as</span> Message[]).length); <span class="comment">//ä¸èƒ½ç›´æ¥å¯¹result1è°ƒç”¨æ•°ç»„æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result2 = getMessage(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span> (result2) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log((result2 <span class="keyword">as</span> Message).content); <span class="comment">//ä¸èƒ½å¯¹result2ç›´æ¥è®¿é—®æ¶ˆæ¯å¯¹è±¡ä¸­çš„å±æ€§</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨é‡è½½å®ç°</span></span><br><span class="line"><span class="comment">//é€šè¿‡æä¾›å¤šä¸ªå‡½æ•°ç±»å‹çš„å£°æ˜æ¥è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæœ€åå¾—åˆ°çš„ç»“æœå°±æ˜¯é—´æ¥å®ç°äº†å‡½æ•°çš„é‡è½½ã€‚å½“ç„¶è¿™ä¸ªé‡è½½åªæ˜¯TypeScriptç¼–è¯‘æ—¶çš„ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMessage</span>(<span class="params">id: number</span>): <span class="title">Message</span> | <span class="title">undefined</span>;</span></span><br><span class="line">function getMessage(type: MessageType): Message[];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMessage</span>(<span class="params">query: any</span>): <span class="title">any</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> query === <span class="string">'number'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data.find(<span class="function"><span class="params">message</span> =&gt;</span> message.id === query);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> data.filter(<span class="function"><span class="params">message</span> =&gt;</span> message.type === query);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¾—åˆ°çš„ç»“æœç±»å‹æ˜¯é‡è½½æ–¹æ³•ä¸­æŒ‡å®šçš„å…¥å‚ä¸è¿”å›çš„ç»„åˆï¼Œåœ¨å¯¹ç»“æœè¿›è¡Œä½¿ç”¨æ—¶ï¼Œæ— é¡»å†è¿›è¡Œç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="keyword">const</span> result1 = getMessage(<span class="string">'audio'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result1.length); <span class="comment">//æ— é¡»ç±»å‹è½¬æ¢</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result2 = getMessage(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span> (result2) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(result2.content); <span class="comment">//æ— é¡»ç±»å‹è½¬æ¢</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><h3 id="å›é¡¾ï¼šES5-ä¸­çš„ç±»"><a href="#å›é¡¾ï¼šES5-ä¸­çš„ç±»" class="headerlink" title="å›é¡¾ï¼šES5 ä¸­çš„ç±»"></a>å›é¡¾ï¼šES5 ä¸­çš„ç±»</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ç±»</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.getInfo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`å§“å:<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,å¹´é¾„:<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>`</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åŸå‹ä¸Šå®šä¹‰å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">Person.prototype.sex = <span class="string">'ç”·'</span>;</span><br><span class="line">Person.prototype.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hi~'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯¹è±¡å†’å……ç»§æ‰¿</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Inherit</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="keyword">this</span>, name, age); <span class="comment">//å¯ä»¥ç»§æ‰¿æ„é€ å‡½æ•°é‡Œé¢çš„å±æ€§å’Œæ–¹æ³•,å®ä¾‹åŒ–å­ç±»å¯ä»¥ç»™çˆ¶ç±»ä¼ å‚,ä½†æ˜¯æ— æ³•ç»§æ‰¿åŸå‹(Person.prototype)ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> i = <span class="keyword">new</span> Inherit(<span class="string">'Leo'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="comment">//newå…³é”®å­—åšäº†ä»€ä¹ˆ?</span></span><br><span class="line"><span class="comment">//1&gt; let obj = &#123;&#125;;</span></span><br><span class="line"><span class="comment">//2&gt; obj.__proto__ = Inherit.prototype;</span></span><br><span class="line"><span class="comment">//3&gt; let i = Inherit.call(obj,'Leo',18);</span></span><br><span class="line">i.getInfo(); <span class="comment">//å§“å:Leo,å¹´é¾„:18</span></span><br><span class="line">i.sayHi(); <span class="comment">//æ— æ³•ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³• i.sayHi is not a function</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åŸå‹é“¾ç»§æ‰¿</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Inherit</span>(<span class="params">name, age</span>) </span>&#123;&#125;</span><br><span class="line">Inherit.prototype = <span class="keyword">new</span> Person(); <span class="comment">//å¯ä»¥ç»§æ‰¿æ„é€ å‡½æ•°å’ŒåŸå‹é‡Œé¢çš„å±æ€§å’Œæ–¹æ³•,ä½†æ˜¯å®ä¾‹åŒ–å­ç±»æ—¶æ— æ³•ç»™çˆ¶ç±»ä¼ å‚ã€‚</span></span><br><span class="line"><span class="comment">//Inherit.prototype.__proto__ = Person.prototype;</span></span><br><span class="line"><span class="keyword">let</span> i = <span class="keyword">new</span> Inherit(<span class="string">'Leo'</span>, <span class="number">18</span>);</span><br><span class="line">i.sayHi(); <span class="comment">//hi~</span></span><br><span class="line">i.getInfo(); <span class="comment">//æ— æ³•ç»™çˆ¶ç±»ä¼ å‚ å§“å:undefined,å¹´é¾„:undefined</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åŸå‹é“¾+å¯¹è±¡å†’å……ç»„åˆä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Inherit</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">  Person.call(<span class="keyword">this</span>,name,age);<span class="regexp">/</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">Inherit.prototype = new Person();</span></span><br><span class="line"><span class="regexp">let i = new Inherit('Leo',18);</span></span><br><span class="line"><span class="regexp">i.sayHi(); /</span><span class="regexp">/hi~</span></span><br><span class="line"><span class="regexp">i.getInfo(); /</span><span class="regexp">/i.sayHi is not a function</span></span><br></pre></td></tr></table></figure><h3 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">tsé‡Œé¢å®šä¹‰å±æ€§çš„æ—¶å€™ç»™æˆ‘ä»¬æä¾›äº†ä¸‰ç§ä¿®é¥°ç¬¦ï¼š</span><br><span class="line">  public(é»˜è®¤):å…¬æœ‰,åœ¨ç±»é‡Œé¢ã€å­ç±»ã€ç±»å¤–éƒ¨éƒ½å¯ä»¥è®¿é—®</span><br><span class="line">  protected:ä¿æŠ¤,åœ¨ç±»é‡Œé¢ã€å­ç±»é‡Œé¢å¯ä»¥è®¿é—®,åœ¨ç±»å¤–éƒ¨æ— æ³•è®¿é—®</span><br><span class="line">  private:ç§æœ‰,åœ¨ç±»é‡Œé¢å¯ä»¥è®¿é—®,å­ç±»ã€ç±»å¤–éƒ¨æ²¡æ³•è®¿é—®</span><br><span class="line">  æ³¨ï¼šå±æ€§å¦‚æœæ²¡æœ‰æ˜¾ç¤ºå£°æ˜ä¿®é¥°ç¬¦ï¼Œåˆ™é»˜è®¤ä¸º public</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  public name: string;</span><br><span class="line">  <span class="keyword">constructor</span>(name:string)&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name; <span class="comment">//ç±»é‡Œä½¿ç”¨</span></span><br><span class="line">  &#125;</span><br><span class="line">  getName():string&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">'Leo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.name); <span class="comment">//ç±»å¤–éƒ¨ä½¿ç”¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Inherit</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  setName(name:string):<span class="keyword">void</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name; <span class="comment">//å­ç±»é‡Œä½¿ç”¨</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> i = <span class="keyword">new</span> Inherit(<span class="string">'å°æ˜'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(i.name); <span class="comment">//ç±»å¤–éƒ¨ä½¿ç”¨</span></span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰ç±»"><a href="#å®šä¹‰ç±»" class="headerlink" title="å®šä¹‰ç±»"></a>å®šä¹‰ç±»</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  name: string; <span class="comment">//è¿™é‡Œçœç•¥äº†public</span></span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°,å®ä¾‹åŒ–ç±»æ—¶è§¦å‘çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  getName(): string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">  setName(name: string): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">'Leo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.getName());</span><br><span class="line">p.setName(<span class="string">'å°æ˜'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.getName());</span><br></pre></td></tr></table></figure><h3 id="é™æ€å±æ€§-amp-é™æ€æ–¹æ³•"><a href="#é™æ€å±æ€§-amp-é™æ€æ–¹æ³•" class="headerlink" title="é™æ€å±æ€§ &amp; é™æ€æ–¹æ³•"></a>é™æ€å±æ€§ &amp; é™æ€æ–¹æ³•</h3><p>é€šè¿‡<code>static</code>å…³é”®å­—å£°æ˜é™æ€å±æ€§ &amp; é™æ€æ–¹æ³•ï¼Œé€šè¿‡<code>ç±»å.å±æ€§å</code>æˆ–è€…<code>ç±»å.æ–¹æ³•å</code>ç›´æ¥è°ƒç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  public name: string;</span><br><span class="line">  public age: number = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//é™æ€å±æ€§</span></span><br><span class="line">  <span class="keyword">static</span> sex = <span class="string">'ç”·'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>åœ¨è·‘æ­¥ã€‚`</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//é™æ€æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">static</span> print() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è¿™æ˜¯é™æ€æ–¹æ³•print'</span>);</span><br><span class="line">    <span class="comment">//é™æ€æ–¹æ³•é‡Œé¢æ²¡æ³•ç›´æ¥è°ƒç”¨ç±»é‡Œé¢çš„å±æ€§</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.age); <span class="comment">//undefined</span></span><br><span class="line">    <span class="comment">//é™æ€å±æ€§è°ƒç”¨</span></span><br><span class="line">    <span class="built_in">console</span>.log(Person.sex); <span class="comment">//ç”·</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">'å¼ ä¸‰'</span>);</span><br><span class="line">p.run(); <span class="comment">//å¼ ä¸‰åœ¨è·‘æ­¥ã€‚</span></span><br><span class="line"><span class="comment">//é™æ€æ–¹æ³•è°ƒç”¨</span></span><br><span class="line">Person.print();</span><br></pre></td></tr></table></figure><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>ä½¿ç”¨<code>extends</code>å’Œ<code>super</code>å…³é”®å­—å®ç°ç»§æ‰¿ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Inherit</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> i = <span class="keyword">new</span> Inherit(<span class="string">'å°æ˜'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(i.getName());</span><br></pre></td></tr></table></figure><h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><p>çˆ¶ç±»å®šä¹‰ä¸€ä¸ªæ–¹æ³•ä¸å»å®ç°ï¼Œè®©ç»§æ‰¿å®ƒçš„å­ç±»å»å®ç°ï¼Œæ¯ä¸€ä¸ªå­ç±»æœ‰ä¸åŒçš„è¡¨ç°ã€‚å¤šæ€å±äºç»§æ‰¿ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//çˆ¶ç±» Animal</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  public name: string;</span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªæ–¹æ³•,å…·ä½“ä¸åšå®ç°,å­ç±»è‡ªå·±å®ç°ã€‚</span></span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'function: eat'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­ç±» Dog</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>  <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//è‡ªè¡Œå®ç°çˆ¶ç±»å®šä¹‰çš„eatæ–¹æ³•</span></span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>åƒè‚‰ã€‚`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­ç±» Cat</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//è‡ªè¡Œå®ç°çˆ¶ç±»å®šä¹‰çš„eatæ–¹æ³•</span></span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>åƒé±¼ã€‚`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> Dog(<span class="string">'å°ç‹—'</span>);</span><br><span class="line">d.eat();  <span class="comment">//å°ç‹—åƒè‚‰ã€‚</span></span><br><span class="line"><span class="keyword">let</span> c = <span class="keyword">new</span> Cat(<span class="string">'å°çŒ«'</span>);</span><br><span class="line">c.eat();  <span class="comment">//å°çŒ«åƒé±¼ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="æŠ½è±¡ç±»-amp-æŠ½è±¡æ–¹æ³•ï¼š"><a href="#æŠ½è±¡ç±»-amp-æŠ½è±¡æ–¹æ³•ï¼š" class="headerlink" title="æŠ½è±¡ç±» &amp; æŠ½è±¡æ–¹æ³•ï¼š"></a>æŠ½è±¡ç±» &amp; æŠ½è±¡æ–¹æ³•ï¼š</h3><ul><li>ä½¿ç”¨<code>abstract</code>å…³é”®å­—å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•åªèƒ½æ”¾åœ¨æŠ½è±¡ç±»é‡Œé¢ã€‚</li><li>ts ä¸­çš„æŠ½è±¡ç±»ï¼Œæ˜¯æä¾›å…¶ä»–ç±»ç»§æ‰¿çš„åŸºç±»ï¼Œä¸èƒ½ç›´æ¥è¢«å®ä¾‹åŒ–ã€‚æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ä¸åŒ…å«å…·ä½“å®ç°ä¸”å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°ã€‚</li><li>æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ç”¨æ¥å®šä¹‰æ ‡å‡†ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æŠ½è±¡ç±» Animal</span></span><br><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    public name: string;</span><br><span class="line">    <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŠ½è±¡æ–¹æ³•,å­ç±»å¿…é¡»å®ç°è¿™ä¸ªæ–¹æ³•</span></span><br><span class="line">    abstract eat(): any;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ™®é€šæ–¹æ³•,ä¸è¦æ±‚å­ç±»å¿…é¡»å®ç°</span></span><br><span class="line">    sleep() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>åœ¨ç¡è§‰ã€‚`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> Animal();  <span class="comment">// error: æ— æ³•åˆ›å»ºæŠ½è±¡ç±»çš„å®ä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å­ç±» Dog ç»§æ‰¿ æŠ½è±¡ç±» Animal</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŠ½è±¡ç±»çš„å­ç±»(æ´¾ç”Ÿç±»)å¿…é¡»å®ç°æŠ½è±¡ç±»é‡Œçš„æŠ½è±¡æ–¹æ³•,å¦‚æœä¸å®ç°ä¼šæŠ¥é”™ã€‚</span></span><br><span class="line">    eat() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>åƒè‚‰ã€‚`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> Dog(<span class="string">'å°ç‹—'</span>);</span><br><span class="line">d.eat();  <span class="comment">//å°ç‹—åƒè‚‰ã€‚</span></span><br></pre></td></tr></table></figure><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p><code>TypeScript</code>çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯å¯¹å€¼æ‰€å…·æœ‰çš„ç»“æ„è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæ¥å£çš„ä½œç”¨å°±æ˜¯ä¸ºè¿™äº›ç±»å‹å‘½åå’Œä¸ºä½ çš„ä»£ç æˆ–ç¬¬ä¸‰æ–¹ä»£ç å®šä¹‰å¥‘çº¦ã€‚</p><h3 id="å®šä¹‰æ¥å£-amp-åŸºæœ¬ä½¿ç”¨"><a href="#å®šä¹‰æ¥å£-amp-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="å®šä¹‰æ¥å£ &amp; åŸºæœ¬ä½¿ç”¨"></a>å®šä¹‰æ¥å£ &amp; åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">interface LabelledValue &#123;</span><br><span class="line">  color: string;</span><br><span class="line">  height: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//èµ‹å€¼çš„æ—¶å€™,å˜é‡çš„å½¢çŠ¶å¿…é¡»å’Œæ¥å£çš„è§„åˆ™ä¿æŒä¸€è‡´</span></span><br><span class="line"><span class="keyword">const</span> labelVal: LabelledValue = &#123;</span><br><span class="line">  color: <span class="string">'ç°è‰²'</span>,</span><br><span class="line">  height: <span class="number">56</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹æ–¹æ³•ä¼ å…¥çš„å‚æ•°è¿›è¡Œçº¦æŸ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printLabelVal</span>(<span class="params">label: LabelledValue</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;label.color&#125;</span>---<span class="subst">$&#123;label.height&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨æ–¹å¼ä¸€,è°ƒç”¨æ–¹æ³•ç¼–è¯‘æŠ¥é”™,ä¼ å…¥çš„å‚æ•°ä¸ç¬¦åˆæ¥å£è§„èŒƒ</span></span><br><span class="line">printLabelVal(&#123;</span><br><span class="line">  color: <span class="string">'å¤©è“è‰²'</span>,</span><br><span class="line">  height: <span class="number">88</span>,</span><br><span class="line">  width: <span class="number">100</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹å¼äºŒ,è¿™æ ·ä¼ å‚ä¸æŠ¥é”™,æš‚æ—¶ä¸çŸ¥é“å…·ä½“åŸç†,ä¹‹åå†æ¥å¡«å‘</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  color: <span class="string">'å¤©è“è‰²'</span>,</span><br><span class="line">  height: <span class="number">88</span>,</span><br><span class="line">  width: <span class="number">100</span>,</span><br><span class="line">&#125;;</span><br><span class="line">printLabelVal(obj);</span><br></pre></td></tr></table></figure><h3 id="å¯é€‰å±æ€§-amp-åªè¯»å±æ€§"><a href="#å¯é€‰å±æ€§-amp-åªè¯»å±æ€§" class="headerlink" title="å¯é€‰å±æ€§ &amp; åªè¯»å±æ€§"></a>å¯é€‰å±æ€§ &amp; åªè¯»å±æ€§</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯é€‰å±æ€§:æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ä¸éœ€è¦å®Œå…¨åŒ¹é…ä¸€ä¸ªæ¥å£ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å¯é€‰å±æ€§</span></span><br><span class="line">interface Person &#123;</span><br><span class="line">name: string;</span><br><span class="line">age: number;</span><br><span class="line">car?: string;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> Lucy: Person = &#123;</span><br><span class="line">name: <span class="string">'Lucy Lucy'</span>,</span><br><span class="line">age: <span class="number">18</span>,</span><br><span class="line"><span class="comment">//car: 'å®é©¬'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åªè¯»å±æ€§:ä¸€äº›å¯¹è±¡å±æ€§åªèƒ½åœ¨å¯¹è±¡åˆšåˆšåˆ›å»ºçš„æ—¶å€™ä¿®æ”¹å…¶å€¼ã€‚ä½ å¯ä»¥åœ¨å±æ€§åå‰ç”¨ readonlyæ¥æŒ‡å®šåªè¯»å±æ€§ã€‚</span></span><br><span class="line">interface Point &#123;</span><br><span class="line">readonly x: number;</span><br><span class="line">readonly y: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1: Point = &#123; <span class="attr">x</span>: <span class="number">10</span>, <span class="attr">y</span>: <span class="number">20</span> &#125;;</span><br><span class="line">p1.x = <span class="number">5</span>; <span class="comment">//ç¼–è¯‘æŠ¥é”™ Cannot assign to 'x' because it is a read-only property</span></span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h3><p>å¯¹æ–¹æ³•ä¼ å…¥çš„å‚æ•°ã€ä»¥åŠè¿”å›å€¼è¿›è¡Œçº¦æŸã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">interface MyTypeFn &#123;</span><br><span class="line">  (x: number, <span class="attr">y</span>: number): number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> add: MyTypeFn = <span class="function"><span class="keyword">function</span> (<span class="params">x: number, y: number</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="å¯ç´¢å¼•å±æ€§"><a href="#å¯ç´¢å¼•å±æ€§" class="headerlink" title="å¯ç´¢å¼•å±æ€§"></a>å¯ç´¢å¼•å±æ€§</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯¹æ•°ç»„çš„çº¦æŸ,æ•°ç»„ç±»å‹æ¥å£</span></span><br><span class="line">interface UserArray &#123;</span><br><span class="line">  <span class="comment">//è¡¨ç¤ºæ•°ç»„ä¸­indexå¿…é¡»æ˜¯number,valueå¿…é¡»æ˜¯string</span></span><br><span class="line">  [index: numer]: string;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr: UserArray = [<span class="string">'123'</span>, <span class="string">'456'</span>];</span><br><span class="line"><span class="comment">//å¯¹å¯¹è±¡çš„çº¦æŸ,å¯¹è±¡ç±»å‹æ¥å£</span></span><br><span class="line">interface UserObj &#123;</span><br><span class="line">  [index: string]: string;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj: UserObj = &#123; <span class="attr">name</span>: <span class="string">'123'</span> &#125;;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¥å£"><a href="#ç±»æ¥å£" class="headerlink" title="ç±»æ¥å£"></a>ç±»æ¥å£</h3><p>å¯¹ç±»çš„çº¦æŸï¼Œå’ŒæŠ½è±¡ç±»æœ‰ç‚¹ç›¸ä¼¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ¥å£ è§„å®šå®ç°ç±»å¿…é¡»è¦æœ‰nameå±æ€§å’Œeatæ–¹æ³•</span></span><br><span class="line">interface Animal &#123;</span><br><span class="line">  name: string;</span><br><span class="line">  eat(str: string): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="title">implements</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  name: string; <span class="comment">//è‹¥æ²¡æ­¤å±æ€§ï¼Œtsä¼šç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'eat'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å°ä¾‹å­:æ¥å£ç»§æ‰¿æ¥å£,ç±»ç»§æ‰¿ç±»,ç±»å®ç°æ¥å£</span></span><br><span class="line">interface Animal &#123;</span><br><span class="line">  eat(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Person extends Animal &#123;</span><br><span class="line">  work(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> </span>&#123;</span><br><span class="line">  name: string;</span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  coding(code: string) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>---<span class="subst">$&#123;code&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Programmer</span> <span class="title">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  name: string;</span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// eatå¿…é¡»å®šä¹‰</span></span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'åƒ'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// workä¹Ÿå¿…é¡»å®šä¹‰</span></span><br><span class="line">  work() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'å·¥ä½œ'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><p>ä¸ºä»€ä¹ˆéœ€è¦<code>æ³›å‹</code>?</p><ul><li>è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦åˆ›å»ºä¸€è‡´çš„å®šä¹‰å¥½çš„ APIï¼ŒåŒæ—¶ä¹Ÿè¦è€ƒè™‘å¯é‡ç”¨æ€§ï¼Œç»„ä»¶ä¸ä»…èƒ½å¤Ÿæ”¯æŒå½“å‰çš„æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ï¼Œè¿™åœ¨åˆ›å»ºå¤§å‹ç³»ç»Ÿæ—¶ä¸ºä½ æä¾›äº†ååˆ†çµæ´»çš„åŠŸèƒ½ã€‚</li><li>åœ¨åƒ<code>c#</code>å’Œ<code>java</code>ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä»¥è‡ªå·±çš„æ•°æ®ç±»å‹æ¥ä½¿ç”¨ç»„ä»¶ã€‚</li><li>é€šä¿—ç†è§£ï¼šæ³›å‹å°±æ˜¯è§£å†³ç±»ã€æ¥å£ã€æ–¹æ³•çš„é‡ç”¨æ€§ï¼Œä»¥åŠå¯¹ä¸ç‰¹å®šæ•°æ®ç±»å‹çš„æ”¯æŒã€‚</li><li>å¯ä»¥æ”¯æŒä¸ç‰¹å®šçš„æ•°æ®ç±»å‹ã€‚</li><li>å’Œ<code>any</code>æœ‰ä»€ä¹ˆåŒºåˆ«?</li><li><code>any</code>æ”¾å¼ƒäº†ç±»å‹æ£€æŸ¥</li><li>å¦‚æœæƒ³åšåˆ°ä¼ å…¥ä»€ä¹ˆç±»å‹å°±è¿”å›ä»€ä¹ˆç±»å‹ï¼Œä¾‹å¦‚ä¼ å…¥<code>number</code>ç±»å‹å°±è¿”å›<code>number</code>ç±»å‹ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹ã€‚</li></ul><h3 id="æ³›å‹å‡½æ•°"><a href="#æ³›å‹å‡½æ•°" class="headerlink" title="æ³›å‹å‡½æ•°"></a>æ³›å‹å‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fn&lt;number&gt;(<span class="number">77</span>));</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  private name: T;</span><br><span class="line">  <span class="keyword">constructor</span>(name: T) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  getName(): T &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person&lt;string&gt;(<span class="string">'Leo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.getName());</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šï¼Œ<code>&lt;T&gt;</code>è¡¨ç¤ºä¼ é€’ä¸€ä¸ª T ç±»å‹ï¼Œåœ¨<code>new</code>çš„æ—¶å€™æ‰æŠŠå…·ä½“ç±»å‹ä¼ å…¥ã€‚å…¶ä¸­<code>T</code>æ˜¯å˜é‡å¯æ”¹ï¼Œä½†é€šå¸¸æ¯”è¾ƒå¸¸è§å°±æ˜¯å†™<code>T</code><br>ä¹‹å‰è¯´<code>TypeScript</code>ç±»å‹çš„æ—¶æœ‰è¯´åˆ°æ•°ç»„ï¼Œå…¶å®æ•°ç»„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ³›å‹ç±»</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Array</span>&lt;number&gt;();</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹æ¥å£"><a href="#æ³›å‹æ¥å£" class="headerlink" title="æ³›å‹æ¥å£"></a>æ³›å‹æ¥å£</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å†™æ³•ä¸€</span></span><br><span class="line">interface Config &#123;</span><br><span class="line">  &lt;T&gt;(value: T): T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> getData: Config = <span class="function"><span class="keyword">function</span> &lt;<span class="title">T</span>&gt;(<span class="params">value: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(getData &lt; string &gt; <span class="string">'å¼ ä¸‰'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†™æ³•äºŒï¼šæ­¤å¤„ä¸å†™æ³•ä¸€çš„ä¸åŒä¹‹å¤„åœ¨äº,ç±»å‹ä¼ é€’çš„æ—¶æœºä¸åŒ,ä¸Šé¢é‚£ä¸ªæ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ä¼ é€’ç±»å‹,æ­¤å¤„æ˜¯åœ¨æ¥å£å®ç°çš„æ—¶å€™ä¼ é€’ç±»å‹</span></span><br><span class="line">interface Config&lt;T&gt; &#123;</span><br><span class="line">  (value: T): T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> getData: Config&lt;string&gt; = <span class="function"><span class="keyword">function</span> &lt;<span class="title">T</span>&gt;(<span class="params">value: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(getData(<span class="string">'å¼ ä¸‰'</span>));</span><br></pre></td></tr></table></figure><h3 id="æŠŠç±»ä½œä¸ºå‚æ•°æ¥çº¦æŸæ•°æ®ä¼ å…¥çš„ç±»å‹"><a href="#æŠŠç±»ä½œä¸ºå‚æ•°æ¥çº¦æŸæ•°æ®ä¼ å…¥çš„ç±»å‹" class="headerlink" title="æŠŠç±»ä½œä¸ºå‚æ•°æ¥çº¦æŸæ•°æ®ä¼ å…¥çš„ç±»å‹"></a>æŠŠç±»ä½œä¸ºå‚æ•°æ¥çº¦æŸæ•°æ®ä¼ å…¥çš„ç±»å‹</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  username: string | <span class="literal">undefined</span>;</span><br><span class="line">  password: string | <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySqlDb</span> </span>&#123;</span><br><span class="line">  add(user: User): boolean &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(user);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">let</span> u = <span class="keyword">new</span> User();</span><br><span class="line">u.username = <span class="string">'å¼ ä¸‰'</span>;</span><br><span class="line">u.password = <span class="string">'123456'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Db = <span class="keyword">new</span> MySqlDb();</span><br><span class="line">Db.add(u); <span class="comment">//&#123; username: 'å¼ ä¸‰', password: '123456' &#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸Šè¿°æ–¹æ³•å¯ä»¥æ”¹ä¸ºæ³›å‹ç±»</span></span><br><span class="line"><span class="comment">//æ“ä½œæ•°æ®åº“çš„æ³›å‹ç±»ï¼Œè¿™æ ·å¯ä»¥è§„èŒƒæ’å…¥æ•°æ®åº“æ•°æ®çš„ç±»è§„èŒƒ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySqlDb</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  add(info: T): boolean &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(info);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æƒ³ç»™Userè¡¨å¢åŠ æ•°æ®</span></span><br><span class="line"><span class="comment">// 1ã€å®šä¹‰ä¸€ä¸ªUserç±» å’Œæ•°æ®åº“è¿›è¡Œæ˜ å°„</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  username: string | <span class="literal">undefined</span>;</span><br><span class="line">  password: string | <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> u = <span class="keyword">new</span> User();</span><br><span class="line">u.username = <span class="string">'å¼ ä¸‰'</span>;</span><br><span class="line">u.password = <span class="string">'123'</span>;</span><br><span class="line"><span class="keyword">let</span> Db = <span class="keyword">new</span> MySqlDb&lt;User&gt;(); <span class="comment">// è¿™ä¸€æ­¥å¾ˆå…³é”®,è¦å®šä¹‰Userç±»å‹</span></span><br><span class="line">Db.add(u);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€æ–‡ç« ç±»ï¼Œæ•°æ®åº“æ˜ å°„</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span> </span>&#123;</span><br><span class="line">  title: string | <span class="literal">undefined</span>;</span><br><span class="line">  desc: string | <span class="literal">undefined</span>;</span><br><span class="line">  status: number | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(params:&#123;</span><br><span class="line">    title:string | <span class="literal">undefined</span>;</span><br><span class="line">    desc:string | <span class="literal">undefined</span>;</span><br><span class="line">    status?:number | <span class="literal">undefined</span>;</span><br><span class="line">  &#125;) &#123;</span><br><span class="line">    <span class="built_in">Object</span>.assign(<span class="keyword">this</span>,params)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> Article(&#123;</span><br><span class="line">  title: <span class="string">'åˆ†ç±»'</span>,</span><br><span class="line">  desc: <span class="string">'123'</span>,</span><br><span class="line">  status: <span class="number">1</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»å½“å‰å‚æ•°çš„æ³›å‹ç±»</span></span><br><span class="line"><span class="keyword">let</span> Db = <span class="keyword">new</span> MySqlDb&lt;Article&gt;(); <span class="comment">// æŒ‡å®šç±»å‹</span></span><br><span class="line">Db.add(a); <span class="comment">// log a</span></span><br></pre></td></tr></table></figure><h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h2><ul><li><p>å‘½åç©ºé—´ä¸€ä¸ªæœ€æ˜ç¡®çš„ç›®çš„å°±æ˜¯è§£å†³é‡åé—®é¢˜ã€‚</p></li><li><p>å‡è®¾è¿™æ ·ä¸€ç§æƒ…å†µï¼Œå½“ä¸€ä¸ªç­ä¸Šæœ‰ä¸¤ä¸ªåå«å°æ˜çš„å­¦ç”Ÿæ—¶ï¼Œä¸ºäº†æ˜ç¡®åŒºåˆ†å®ƒä»¬ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨åå­—ä¹‹å¤–ï¼Œä¸å¾—ä¸ä½¿ç”¨ä¸€äº›é¢å¤–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ä»–ä»¬çš„å§“ï¼ˆç‹å°æ˜ï¼Œæå°æ˜ï¼‰ï¼Œæˆ–è€…ä»–ä»¬çˆ¶æ¯çš„åå­—ç­‰ç­‰ã€‚</p></li><li><p>å‘½åç©ºé—´å®šä¹‰äº†æ ‡è¯†ç¬¦çš„å¯è§èŒƒå›´ï¼Œä¸€ä¸ªæ ‡è¯†ç¬¦å¯åœ¨å¤šä¸ªåå­—ç©ºé—´ä¸­å®šä¹‰ï¼Œå®ƒåœ¨ä¸åŒåå­—ç©ºé—´ä¸­çš„å«ä¹‰æ˜¯äº’ä¸ç›¸å¹²çš„ã€‚è¿™æ ·ï¼Œåœ¨ä¸€ä¸ªæ–°çš„åå­—ç©ºé—´ä¸­å¯å®šä¹‰ä»»ä½•æ ‡è¯†ç¬¦ï¼Œå®ƒä»¬ä¸ä¼šä¸ä»»ä½•å·²æœ‰çš„æ ‡è¯†ç¬¦å‘ç”Ÿå†²çªï¼Œå› ä¸ºå·²æœ‰çš„å®šä¹‰éƒ½å¤„äºå…¶ä»–åå­—ç©ºé—´ä¸­ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä»¥ä¸Šå®šä¹‰äº†ä¸€ä¸ªå‘½åç©ºé—´Aï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¤–éƒ¨å¯ä»¥è°ƒç”¨Aä¸­çš„å†…å®¹ï¼Œåˆ™éœ€è¦æ·»åŠ exportå…³é”®å­—ã€‚</span></span><br><span class="line">namespace A&#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params">food:string</span>):<span class="title">void</span></span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`åƒ<span class="subst">$&#123;food&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">namespace B&#123;</span><br><span class="line">  A.eat(<span class="string">'æ¡ƒå­'</span>); <span class="comment">//åœ¨å¦ä¸€ä¸ªå‘½åç©ºé—´è°ƒç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h2><ul><li>è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å£°æ˜ï¼Œä»–èƒ½å¤Ÿè¢«é™„åŠ åˆ°ç±»å£°æ˜ï¼Œæ–¹æ³•ï¼Œå±æ€§æˆ–è€…å‚æ•°ä¸Šï¼Œå¯ä»¥ä¿®æ”¹ç±»çš„è¡Œä¸ºã€‚</li><li>é€šä¿—çš„å°†è£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ³¨å…¥åˆ°ç±»ã€æ–¹æ³•ã€å±æ€§å‚æ•°ä¸Šæ¥æ‰©å±•ç±»ã€å±æ€§ã€æ–¹æ³•ã€å‚æ•°çš„åŠŸèƒ½ã€‚</li><li>å¸¸è§çš„è£…é¥°å™¨æœ‰ï¼šç±»è£…é¥°å™¨ã€å±æ€§è£…é¥°å™¨ã€æ–¹æ³•è£…é¥°å™¨ã€å‚æ•°è£…é¥°å™¨ã€‚</li><li>è£…é¥°å™¨çš„å†™æ³•ï¼šæ™®é€šè£…é¥°å™¨ï¼ˆæ— æ³•ä¼ å‚ï¼‰ã€è£…é¥°å™¨å·¥å‚ï¼ˆå¯ä¼ å‚ï¼‰ã€‚</li><li>è£…é¥°å™¨æ˜¯è¿‡å»å‡ å¹´ä¸­ js æœ€å¤§çš„æˆå°±ä¹‹ä¸€ï¼Œå·²ç»æ˜¯ ES7 çš„æ ‡å‡†ç‰¹æ€§ä¹‹ä¸€ã€‚</li></ul><h3 id="ç±»è£…é¥°å™¨"><a href="#ç±»è£…é¥°å™¨" class="headerlink" title="ç±»è£…é¥°å™¨"></a>ç±»è£…é¥°å™¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ™®é€šè£…é¥°å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logClass</span>(<span class="params">params: any</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(params); <span class="comment">//paramså°±æ˜¯å½“å‰ç±»</span></span><br><span class="line">  params.prototype.apiUrl = <span class="string">'åŠ¨æ€æ‰©å±•çš„å±æ€§'</span>;</span><br><span class="line">  params.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æˆ‘æ˜¯ä¸€ä¸ªrunæ–¹æ³•'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@logClass <span class="comment">//ç±»è£…é¥°å™¨,æ™®é€šè£…é¥°å™¨,æ— æ³•ä¼ å‚,é»˜è®¤æŠŠclassä¼ å…¥</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpClient</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line">  getData() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è£…é¥°å™¨å·¥å‚</span></span><br><span class="line"><span class="comment">//ä½œç”¨:ä¿®æ”¹æ„é€ å‡½æ•° æ‰©å±•ç±»å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logClass</span>(<span class="params">params: string</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// paramsæ˜¯ä¸‹æ–¹ä¼ è¿‡æ¥çš„å‚æ•°</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target: any</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// targetç›¸å½“äºæ˜¯é»˜è®¤ä¼ è¿‡æ¥çš„</span></span><br><span class="line">    <span class="built_in">console</span>.log(target);</span><br><span class="line">    <span class="built_in">console</span>.log(params);</span><br><span class="line">    target.prototype.apiUrl = params;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@logClass(<span class="string">'https://baidu.com'</span>) <span class="comment">// å¯ä»¥ä¼ å‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpClient</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line">  getData() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> http: any = <span class="keyword">new</span> HttpClient();</span><br><span class="line"><span class="built_in">console</span>.log(http.apiUrl); <span class="comment">// https://baidu.com</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯ä»¥ä¿®æ”¹æ„é€ å‡½æ•°çš„å†™æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logClass</span>(<span class="params">target: any</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(target);</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">target</span> </span>&#123;</span><br><span class="line">    apiUrl: any = <span class="string">'æˆ‘æ˜¯ä¿®æ”¹åçš„æ–°æ•°æ®'</span>;</span><br><span class="line">    getData() &#123;</span><br><span class="line">      <span class="keyword">this</span>.apiUrl = <span class="keyword">this</span>.apiUrl + <span class="string">'@@@'</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.apiUrl);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@logClass</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpClient</span> </span>&#123;</span><br><span class="line">  public apiUrl: string | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.apiUrl = <span class="string">'æˆ‘æ˜¯æ„é€ å‡½æ•°é‡Œé¢çš„apiUrl'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  getData() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.apiUrl);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> http: any = <span class="keyword">new</span> HttpClient();</span><br><span class="line">http.getData();</span><br></pre></td></tr></table></figure><h3 id="å±æ€§è£…é¥°å™¨"><a href="#å±æ€§è£…é¥°å™¨" class="headerlink" title="å±æ€§è£…é¥°å™¨"></a>å±æ€§è£…é¥°å™¨</h3><p>å¯ä»¥ç»™å±æ€§èµ‹å€¼</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç±»è£…é¥°å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logClass</span>(<span class="params">params: string</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// paramsæ˜¯ä¸‹æ–¹ä¼ è¿‡æ¥çš„å‚æ•°</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target: any</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// targetæ˜¯é»˜è®¤ä¼ è¿‡æ¥çš„ç±»å¯¹è±¡</span></span><br><span class="line">    <span class="built_in">console</span>.log(target);</span><br><span class="line">    <span class="built_in">console</span>.log(params);</span><br><span class="line">    target.prototype.apiUrl = params;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±æ€§è£…é¥°å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logProperty</span>(<span class="params">params: any</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å›ºå®šå†™æ³•,å‚æ•°ä¸­:targetä¸ºç±»å¯¹è±¡,atträ¸ºè¢«è£…é¥°çš„å±æ€§åç§°</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target: any, attr: any</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(target);</span><br><span class="line">    <span class="built_in">console</span>.log(attr);</span><br><span class="line">    target[attr] = params;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@logClass(<span class="string">'https://baidu.com'</span>) <span class="comment">// å¯ä»¥ä¼ å‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpClient</span> </span>&#123;</span><br><span class="line">  <span class="comment">//è¿™ä¸ªå±æ€§ä¿®é¥°å™¨çš„ä½œç”¨å°±æ˜¯ç»™urlèµ‹å€¼åˆå§‹å€¼</span></span><br><span class="line">  @logProperty(<span class="string">'http://baidu.com'</span>)</span><br><span class="line">  public url: any | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line">  getData() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> http: any = <span class="keyword">new</span> HttpClient();</span><br><span class="line"><span class="built_in">console</span>.log(http.apiUrl); <span class="comment">// https://baidu.com</span></span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•è£…é¥°å™¨"><a href="#æ–¹æ³•è£…é¥°å™¨" class="headerlink" title="æ–¹æ³•è£…é¥°å™¨"></a>æ–¹æ³•è£…é¥°å™¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¾‹ä¸€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">params: any</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target: any, methodName: any, desc: any</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(target); <span class="comment">//å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°,å¯¹å®ä¾‹æˆå‘˜æ¥è¯´æ˜¯ç±»çš„åŸå‹å¯¹è±¡</span></span><br><span class="line">    <span class="built_in">console</span>.log(methodName); <span class="comment">//æ–¹æ³•åå­—,getData</span></span><br><span class="line">    <span class="built_in">console</span>.log(desc); <span class="comment">//æ–¹æ³•çš„æè¿°å¯¹è±¡,desc.valueæ˜¯è¯¥æ–¹æ³•</span></span><br><span class="line">    target.apiUrl = <span class="string">'xxx'</span>; <span class="comment">//ä¿®æ”¹ç±»å±æ€§</span></span><br><span class="line">    target.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'run'</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpClient</span> </span>&#123;</span><br><span class="line">  public url: any | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line">  @<span class="keyword">get</span>('https://www.baidu.com')</span><br><span class="line">  getData() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.url);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> http: any = <span class="keyword">new</span> HttpClient();</span><br><span class="line"><span class="built_in">console</span>.log(http.apiUrl); <span class="comment">//è¾“å‡ºxxx</span></span><br><span class="line">http.run(); <span class="comment">//è¾“å‡ºrun</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¾‹äºŒ ä¿®æ”¹å½“å‰çš„æ–¹æ³•(ä¸»è¦ä½œç”¨æ˜¯è£…é¥°æ–¹æ³•,å¹¶æŠŠæ–¹æ³•çš„å‚æ•°ç»™å˜æ¢ç±»å‹)</span></span><br><span class="line"><span class="comment">//è¿™ä¸ªæ–¹æ³•è£…é¥°å…¶ä¸»è¦ä½œç”¨å°±æ˜¯æŠŠå‚æ•°éƒ½ç»™æ ¼å¼åŒ–æˆstringç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">params: any</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target: any, methodName: any, desc: any</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//ä¿®æ”¹æ–¹æ³•,ä½¿æ‰€æœ‰å‚æ•°å˜æˆstringç±»å‹,å¹¶æ‰“å°</span></span><br><span class="line">    <span class="keyword">let</span> oMethod = desc.value;</span><br><span class="line">    desc.value = <span class="function"><span class="keyword">function</span> (<span class="params">...args: any[]</span>) </span>&#123;</span><br><span class="line">      args = args.map(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">String</span>(value);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">//åˆ©ç”¨applyè¿›è¡Œå¯¹è±¡å†’å……,å¯¹getdataè¿›è¡Œä¿®æ”¹,å¦‚æœæ²¡æœ‰applyå°±ç›¸å½“äºæ›¿æ¢äº†getDataæ–¹æ³•</span></span><br><span class="line">      oMethod.apply(<span class="keyword">this</span>, args); <span class="comment">//thisæŒ‡HttpClientç±»</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpClient</span> </span>&#123;</span><br><span class="line">  public url: any | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line">  @<span class="keyword">get</span>('https://www.baidu.com')</span><br><span class="line">  getData(...args: any[]) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æˆ‘æ˜¯getDataæ–¹æ³•'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> http: any = <span class="keyword">new</span> HttpClient();</span><br><span class="line">http.getData(<span class="number">123</span>, <span class="string">'xxx'</span>); <span class="comment">//['123','xxx'] æˆ‘æ˜¯getDataæ–¹æ³•</span></span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•å‚æ•°è£…é¥°å™¨"><a href="#æ–¹æ³•å‚æ•°è£…é¥°å™¨" class="headerlink" title="æ–¹æ³•å‚æ•°è£…é¥°å™¨"></a>æ–¹æ³•å‚æ•°è£…é¥°å™¨</h3><p>ç”¨çš„æ¯”è¾ƒå°‘ï¼Œç±»è£…é¥°å™¨ä¹Ÿå¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logParams</span>(<span class="params">params: any</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target: any, methodName: any, paramsIndex: any</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(params); <span class="comment">// xxxx</span></span><br><span class="line">    <span class="built_in">console</span>.log(target); <span class="comment">// åŸå‹å¯¹è±¡</span></span><br><span class="line">    <span class="built_in">console</span>.log(methodName); <span class="comment">// getData</span></span><br><span class="line">    <span class="built_in">console</span>.log(paramsIndex); <span class="comment">//å‚æ•°åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼• 0</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpClient</span> </span>&#123;</span><br><span class="line">  public url: any | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  getData(uuid: any, @logParams(<span class="string">'xxxx'</span>) nanoid: string) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(uuid); <span class="comment">// iii</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> HttpClient();</span><br><span class="line">a.getData(<span class="string">'iii'</span>, <span class="string">'ooo'</span>);</span><br></pre></td></tr></table></figure><h3 id="è£…é¥°å™¨æ‰§è¡Œé¡ºåº"><a href="#è£…é¥°å™¨æ‰§è¡Œé¡ºåº" class="headerlink" title="è£…é¥°å™¨æ‰§è¡Œé¡ºåº"></a>è£…é¥°å™¨æ‰§è¡Œé¡ºåº</h3><p>å½“å­˜åœ¨å¤šä¸ªè£…é¥°å™¨æ—¶å€™ï¼šä»ä¸Šåˆ°ä¸‹,ä»å³åˆ°å·¦ã€‚</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      æ•°æ®ç±»å‹ã€å‡½æ•°ã€ç±»ã€æ¥å£ã€æ³›å‹ã€å‘½åç©ºé—´ã€è£…é¥°å™¨ã€‚
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.leospace.cn/categories/TypeScript/"/>
    
    
      <category term="å‰ç«¯" scheme="http://blog.leospace.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="TypeScript" scheme="http://blog.leospace.cn/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Vueä¸­ä½¿ç”¨NProgress</title>
    <link href="http://blog.leospace.cn/archives/f007732d.html"/>
    <id>http://blog.leospace.cn/archives/f007732d.html</id>
    <published>2021-01-26T07:50:54.000Z</published>
    <updated>2021-07-29T17:45:15.382Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Jul 31 2021 23:47:43 GMT+0800 (GMT+08:00) --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è·¯ç”±è·³è½¬æ—¶ä½¿ç”¨NProgresså¯åœ¨æµè§ˆå™¨é¡¶éƒ¨æ˜¾ç¤ºè¿›åº¦æ¡,è®©ç”¨æˆ·å¯çŸ¥åŠ è½½è¿›åº¦ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$ npm install --save nprogress æˆ–è€…</span><br><span class="line">$ yarn add nprogress</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨æ³•</span></span><br><span class="line">NProgress.start();</span><br><span class="line">NProgress.done();</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>åœ¨<code>main.js</code>æˆ–è·¯ç”±æ–‡ä»¶<code>index.js</code>ä¸­å¢åŠ </p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> NProgress <span class="keyword">from</span> <span class="string">'nprogress'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'nprogress/nprogress.css'</span></span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  NProgress.start()</span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.afterEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  NProgress.done()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="æ ·å¼ä¿®æ”¹"><a href="#æ ·å¼ä¿®æ”¹" class="headerlink" title="æ ·å¼ä¿®æ”¹"></a>æ ·å¼ä¿®æ”¹</h2><p>åœ¨<code>App.vue</code>ä¸­çš„<code>style</code>ä¸­å¢åŠ </p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#nprogress</span> <span class="selector-class">.bar</span> &#123;</span><br><span class="line">  background: pink !important; //è‡ªå®šä¹‰é¢œè‰²</span><br><span class="line">  height: 1vh !important; //è‡ªå®šä¹‰é«˜åº¦</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      è·¯ç”±è·³è½¬æ—¶ä½¿ç”¨NProgresså¯åœ¨æµè§ˆå™¨é¡¶éƒ¨æ˜¾ç¤ºè¿›åº¦æ¡ã€‚
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://blog.leospace.cn/categories/JavaScript/"/>
    
    
      <category term="å‰ç«¯" scheme="http://blog.leospace.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="Vue" scheme="http://blog.leospace.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Vueä¸­é€šè¿‡åŠ¨æ€æ’å…¥æ ‡ç­¾çš„æ–¹å¼å¼•å…¥æ’ä»¶</title>
    <link href="http://blog.leospace.cn/archives/cca6d4c.html"/>
    <id>http://blog.leospace.cn/archives/cca6d4c.html</id>
    <published>2020-11-15T02:58:31.000Z</published>
    <updated>2020-11-19T06:10:20.413Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Jul 31 2021 23:47:43 GMT+0800 (GMT+08:00) --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å½“æˆ‘ä»¬éœ€è¦åœ¨Vueä¸­ä½¿ç”¨åŸç”ŸJSæ’ä»¶æ—¶,å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ¥ä½¿ç”¨è¯¥æ’ä»¶:</p><ul><li>æ–¹æ³•ä¸€ï¼šæ”¹é€ æºç ,ä½¿æ’ä»¶å¯ä»¥é€šè¿‡importçš„æ–¹å¼å¼•å…¥ä½¿ç”¨</li><li>æ–¹æ³•äºŒï¼šé€šè¿‡åŠ¨æ€æ’å…¥æ ‡ç­¾çš„æ–¹å¼å¼•å…¥æ’ä»¶</li></ul><h2 id="åŠ¨æ€æ’å…¥æ ‡ç­¾"><a href="#åŠ¨æ€æ’å…¥æ ‡ç­¾" class="headerlink" title="åŠ¨æ€æ’å…¥æ ‡ç­¾"></a>åŠ¨æ€æ’å…¥æ ‡ç­¾</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">created()&#123;</span><br><span class="line">  <span class="keyword">const</span> pinyin_dict_withtone = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">  pinyin_dict_withtone.type = <span class="string">'text/javascript'</span>;</span><br><span class="line">  pinyin_dict_withtone.src = <span class="string">'./static/dict/pinyin_dict_withtone.js'</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(pinyin_dict_withtone);</span><br><span class="line">  pinyin_dict_withtone.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line"><span class="comment">//å½“æ–‡ä»¶åŠ è½½å®Œæˆæ—¶ä¼šè§¦å‘onloadäº‹ä»¶,æœ‰äº›æ’ä»¶éœ€è¦å¼•å…¥å¤šä¸ªJSæ–‡ä»¶,é‚£ä¹ˆåˆ™åœ¨ä¸‹é¢ç»§ç»­å¼•å…¥ä¾èµ–è¯¥æ–‡ä»¶çš„æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">const</span> pinyinUtil = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">    pinyinUtil.type = <span class="string">'text/javascript'</span>;</span><br><span class="line">    pinyinUtil.src = <span class="string">'./static/pinyinUtil.js'</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(pinyinUtil);</span><br><span class="line">    pinyinUtil.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//æ’ä»¶åŠ è½½å®Œæˆ,ä½ å¯ä»¥åœ¨è¿™é‡Œæˆ–è€…åé¢çš„ç”Ÿå‘½å‘¨æœŸé‡Œè°ƒç”¨æ’ä»¶é‡Œçš„æ–¹æ³•</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'æ’ä»¶åŠ è½½å®Œæˆ'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      å½“æˆ‘ä»¬éœ€è¦åœ¨Vueä¸­ä½¿ç”¨åŸç”ŸJSæ’ä»¶æ—¶,å¯ä»¥é€šè¿‡åŠ¨æ€æ’å…¥æ ‡ç­¾çš„æ–¹å¼å¼•å…¥æ’ä»¶ã€‚
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://blog.leospace.cn/categories/JavaScript/"/>
    
    
      <category term="å‰ç«¯" scheme="http://blog.leospace.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="Vue" scheme="http://blog.leospace.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>JSä½¿ç”¨å®šæ—¶å™¨å®ç°é•¿æŒ‰äº‹ä»¶</title>
    <link href="http://blog.leospace.cn/archives/81488588.html"/>
    <id>http://blog.leospace.cn/archives/81488588.html</id>
    <published>2020-11-04T01:39:53.000Z</published>
    <updated>2021-02-05T07:03:24.399Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Jul 31 2021 23:47:42 GMT+0800 (GMT+08:00) --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>JSåŸç”Ÿäº‹ä»¶å¹¶æ²¡æœ‰é•¿æŒ‰äº‹ä»¶,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€äº›åŸç”Ÿçš„äº‹ä»¶,æ¥å®ç°é•¿æŒ‰äº‹ä»¶</p><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¯åœ¨Vueç¯å¢ƒä¸‹æ¼”ç¤º,è‹¥ä½¿ç”¨å…¶ä»–æ¡†æ¶è½¬æ¢è¯­æ³•å³å¯ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">touchstart</span>=<span class="string">"longTap($event)"</span> @<span class="attr">touchend</span>=<span class="string">"shortTap"</span> @<span class="attr">touchmove</span>=<span class="string">"contentScroll($event)"</span>&gt;</span>å®šæ—¶å™¨å®ç°é•¿æŒ‰äº‹ä»¶<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿™é‡Œç›‘å¬touchmoveäº‹ä»¶æ˜¯ä¸ºäº†è§£å†³ç§»åŠ¨ç«¯ç»‘å®štouchstartäº‹ä»¶çš„å…ƒç´ å†…éƒ¨æ— æ³•è§¦æ‘¸æ»šåŠ¨çš„é—®é¢˜ --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">data()&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">       Loop: <span class="number">0</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">     longTap(e) &#123;</span><br><span class="line">       <span class="keyword">let</span> touch = e.touches[<span class="number">0</span>];</span><br><span class="line">       <span class="keyword">this</span>.touchY = touch.clientY;</span><br><span class="line">       <span class="keyword">this</span>.Loop = setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">         <span class="keyword">this</span>.Loop = <span class="number">0</span>;</span><br><span class="line">         <span class="comment">//éœ€è¦é•¿æŒ‰æ‰§è¡Œçš„ä»£ç æ”¾åœ¨ä¸‹é¢</span></span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'é•¿æŒ‰äº‹ä»¶'</span>);</span><br><span class="line">       &#125;, <span class="number">500</span>)</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;,</span><br><span class="line">     contentScroll(e) &#123; <span class="comment">//å¦‚æœæ‰‹æŒ‡æœ‰ç§»åŠ¨ï¼Œåˆ™å–æ¶ˆæ‰€æœ‰äº‹ä»¶ï¼Œæ­¤æ—¶è¯´æ˜ç”¨æˆ·åªæ˜¯è¦ç§»åŠ¨è€Œä¸æ˜¯é•¿æŒ‰</span></span><br><span class="line">       <span class="keyword">let</span> touch = e.touches[<span class="number">0</span>];</span><br><span class="line">       <span class="comment">//ä»¥Android 4.0.4ä¸ºé¦–çš„ä¸€äº›å¯æ¶åˆ†å­å´æœ‰äº›ä¸å¬è¯:ä»–ä»¬çš„touchendäº‹ä»¶æ²¡æœ‰å¦‚é¢„æœŸçš„é‚£æ ·è§¦å‘ï¼Œå½“åªæ˜¯è½»ç‚¹ä¸€ä¸‹å±å¹•æ—¶ï¼Œtouchendå¯ä»¥æ­£å¸¸è§¦å‘ã€‚ä½†æ˜¯åªè¦å½“ touchmove è¢«è§¦å‘ä¹‹åï¼Œtouchend å°±ä¸ä¼šå†è¢«è§¦å‘äº†ï¼Œè€Œä¸” touchmove ä¹Ÿæ²¡æœ‰æŒç»­è§¦å‘ã€‚é€šè¿‡é˜»æ­¢é»˜è®¤äº‹ä»¶æ¥è§£å†³ã€‚</span></span><br><span class="line">       <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(touch.clientY - <span class="keyword">this</span>.touchY) &lt; <span class="number">10</span>) &#123;</span><br><span class="line">         e.preventDefault();</span><br><span class="line">       &#125;</span><br><span class="line">       clearTimeout(<span class="keyword">this</span>.Loop); <span class="comment">//æ¸…é™¤è®¡æ—¶å™¨ </span></span><br><span class="line">       <span class="keyword">this</span>.Loop = <span class="number">0</span>; <span class="comment">//æ¸…é™¤æ ‡è¯†ä½</span></span><br><span class="line">     &#125;,</span><br><span class="line">     shortTap() &#123;</span><br><span class="line">       clearTimeout(<span class="keyword">this</span>.Loop);</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.Loop !== <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="comment">//éœ€è¦ç‚¹å‡»æ‰§è¡Œçš„ä»£ç æ”¾åœ¨ä¸‹é¢</span></span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'ç‚¹å‡»äº‹ä»¶'</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      JSåŸç”Ÿäº‹ä»¶å¹¶æ²¡æœ‰é•¿æŒ‰äº‹ä»¶,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€äº›åŸç”Ÿçš„äº‹ä»¶,æ¥å®ç°é•¿æŒ‰äº‹ä»¶ã€‚
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://blog.leospace.cn/categories/JavaScript/"/>
    
    
      <category term="å‰ç«¯" scheme="http://blog.leospace.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript" scheme="http://blog.leospace.cn/tags/JavaScript/"/>
    
      <category term="Vue" scheme="http://blog.leospace.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>AngularJSå­¦ä¹ ç¬”è®°</title>
    <link href="http://blog.leospace.cn/archives/16107.html"/>
    <id>http://blog.leospace.cn/archives/16107.html</id>
    <published>2020-06-09T01:03:41.000Z</published>
    <updated>2021-07-31T02:20:19.610Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Jul 31 2021 23:47:42 GMT+0800 (GMT+08:00) --><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="å…¨å±€å®‰è£…angular-cli"><a href="#å…¨å±€å®‰è£…angular-cli" class="headerlink" title="å…¨å±€å®‰è£…angular/cli"></a>å…¨å±€å®‰è£…angular/cli</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm install -g @angular/cli</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç‰ˆæœ¬"><a href="#æŸ¥çœ‹ç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹ç‰ˆæœ¬"></a>æŸ¥çœ‹ç‰ˆæœ¬</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng v</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng new é¡¹ç›®åç§°</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œé¡¹ç›®"><a href="#è¿è¡Œé¡¹ç›®" class="headerlink" title="è¿è¡Œé¡¹ç›®"></a>è¿è¡Œé¡¹ç›®</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng serve æˆ– ng serve --openï¼ˆè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼‰</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹å¯åˆ›å»ºçš„æ§ä»¶"><a href="#æŸ¥çœ‹å¯åˆ›å»ºçš„æ§ä»¶" class="headerlink" title="æŸ¥çœ‹å¯åˆ›å»ºçš„æ§ä»¶"></a>æŸ¥çœ‹å¯åˆ›å»ºçš„æ§ä»¶</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng g</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶"><a href="#åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶" class="headerlink" title="åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶"></a>åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng g component ç›®å½•+ç»„ä»¶å</span><br><span class="line">ä¾‹ï¼šng g component components/home</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ç»„ä»¶"><a href="#ä½¿ç”¨ç»„ä»¶" class="headerlink" title="ä½¿ç”¨ç»„ä»¶"></a>ä½¿ç”¨ç»„ä»¶</h2><h3 id="åœ¨home-component-htmlä¸­å¡«å……å†…å®¹"><a href="#åœ¨home-component-htmlä¸­å¡«å……å†…å®¹" class="headerlink" title="åœ¨home.component.htmlä¸­å¡«å……å†…å®¹"></a>åœ¨home.component.htmlä¸­å¡«å……å†…å®¹</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>æˆ‘æ˜¯é¦–é¡µ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åœ¨æ ¹ç»„ä»¶ä¸­ä½¿ç”¨"><a href="#åœ¨æ ¹ç»„ä»¶ä¸­ä½¿ç”¨" class="headerlink" title="åœ¨æ ¹ç»„ä»¶ä¸­ä½¿ç”¨"></a>åœ¨æ ¹ç»„ä»¶ä¸­ä½¿ç”¨</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">app-home</span>&gt;</span><span class="tag">&lt;/<span class="name">app-home</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>hello world!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å£°æ˜å±æ€§çš„å‡ ç§æ–¹å¼"><a href="#å£°æ˜å±æ€§çš„å‡ ç§æ–¹å¼" class="headerlink" title="å£°æ˜å±æ€§çš„å‡ ç§æ–¹å¼"></a>å£°æ˜å±æ€§çš„å‡ ç§æ–¹å¼</h2><ul><li><p>public å…±æœ‰ï¼ˆé»˜è®¤ï¼‰ å¯ä»¥åœ¨å½“å‰ç±»é‡Œä½¿ç”¨, ä¹Ÿå¯ä»¥åœ¨ç±»å¤–é¢ä½¿ç”¨</p></li><li><p>protected ä¿æŠ¤ç±»å‹ åªæœ‰åœ¨å½“å‰ç±»å’Œå®ƒçš„å­ç±»é‡Œä½¿ç”¨</p></li><li><p>private ç§æœ‰ åªæœ‰åœ¨å½“å‰ç±»é‡Œå¯ä»¥ä½¿ç”¨</p></li></ul><h2 id="å£°æ˜å±æ€§"><a href="#å£°æ˜å±æ€§" class="headerlink" title="å£°æ˜å±æ€§"></a>å£°æ˜å±æ€§</h2><h3 id="è§„èŒƒå†™æ³•"><a href="#è§„èŒƒå†™æ³•" class="headerlink" title="è§„èŒƒå†™æ³•"></a>è§„èŒƒå†™æ³•</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public message:any = <span class="string">'hello world'</span>;</span><br><span class="line">public userInfo:object = &#123;</span><br><span class="line">  userName : <span class="string">'leaveHao'</span>,</span><br><span class="line">  age : <span class="number">22</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ç®€å†™"><a href="#ç®€å†™" class="headerlink" title="ç®€å†™"></a>ç®€å†™</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">message = <span class="string">'hello world'</span>;</span><br><span class="line">userInfo:object = &#123;</span><br><span class="line">  name : <span class="string">'leaveHao'</span>,</span><br><span class="line">  age : <span class="number">22</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ™®é€šå¾ªç¯-ngFor"><a href="#æ™®é€šå¾ªç¯-ngFor" class="headerlink" title="æ™®é€šå¾ªç¯ *ngFor"></a>æ™®é€šå¾ªç¯ *ngFor</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public arr:any[] = [<span class="string">'åŒ—äº¬'</span>,<span class="string">'ä¸Šæµ·'</span>,<span class="string">'æ·±åœ³'</span>];</span><br><span class="line">æˆ–è€…</span><br><span class="line">public arr:<span class="built_in">Array</span>&lt;any&gt; = [<span class="string">'åŒ—äº¬'</span>,<span class="string">'ä¸Šæµ·'</span>,<span class="string">'æ·±åœ³'</span>];</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> *<span class="attr">ngFor</span>=<span class="string">"let item of arr; let i = index"</span>&gt;</span>&#123;&#123;item&#125;&#125;&#123;&#123;i&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">æˆ–è€…</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> *<span class="attr">ngFor</span>=<span class="string">"let item of arr index as i"</span>&gt;</span>&#123;&#123;item&#125;&#125;&#123;&#123;i&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ¡ä»¶åˆ¤æ–­-ngIf-ngSwitch"><a href="#æ¡ä»¶åˆ¤æ–­-ngIf-ngSwitch" class="headerlink" title="æ¡ä»¶åˆ¤æ–­ *ngIf *ngSwitch"></a>æ¡ä»¶åˆ¤æ–­ *ngIf *ngSwitch</h2><h3 id="ngIf"><a href="#ngIf" class="headerlink" title="*ngIf"></a>*ngIf</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public flag:boolean = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> *<span class="attr">ngIf</span>=<span class="string">"flag;else notActive"</span> <span class="attr">src</span>=<span class="string">"assets/image/home_active.svg"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ng-template</span> #<span class="attr">notActive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"assets/image/home.svg"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ng-template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ngSwitch"><a href="#ngSwitch" class="headerlink" title="*ngSwitch"></a>*ngSwitch</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public status:number = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">ngSwitch</span>]=<span class="string">"status"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">"1"</span>&gt;</span>æ—©ä¸Š<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">"2"</span>&gt;</span>ä¸­åˆ<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">"3"</span>&gt;</span>æ™šä¸Š<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchDefault</span>&gt;</span>å…¶ä»–<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      Angularç¯å¢ƒæ­å»ºã€åˆ›å»ºé¡¹ç›®ã€è¿è¡Œé¡¹ç›®ã€åŸºæœ¬è¯­æ³•ã€‚
    
    </summary>
    
    
      <category term="AngularJS" scheme="http://blog.leospace.cn/categories/AngularJS/"/>
    
    
      <category term="å‰ç«¯" scheme="http://blog.leospace.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="AngularJS" scheme="http://blog.leospace.cn/tags/AngularJS/"/>
    
  </entry>
  
</feed>
