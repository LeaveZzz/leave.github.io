<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>在Vue中通过动态插入标签的方式引入插件</title>
    <url>/archives/cca6d4c.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 19 2020 14:12:59 GMT+0800 (GMT+08:00) --><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>当我们需要在Vue中使用原生JS插件时,可以通过下面的方式来使用该插件:</p><ul><li>方法一：改造源码,使插件可以通过import的方式引入使用</li><li>方法二：通过动态插入标签的方式引入插件</li></ul><h2 id="动态插入标签"><a href="#动态插入标签" class="headerlink" title="动态插入标签"></a>动态插入标签</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">created()&#123;</span><br><span class="line">  <span class="keyword">const</span> pinyin_dict_withtone = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">  pinyin_dict_withtone.type = <span class="string">'text/javascript'</span>;</span><br><span class="line">  pinyin_dict_withtone.src = <span class="string">'./static/dict/pinyin_dict_withtone.js'</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(pinyin_dict_withtone);</span><br><span class="line">  pinyin_dict_withtone.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="comment">//当文件加载完成时会触发onload事件,有些插件需要引入多个JS文件,那么则在下面继续引入依赖该文件的文件</span></span><br><span class="line">    <span class="keyword">const</span> pinyinUtil = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">    pinyinUtil.type = <span class="string">'text/javascript'</span>;</span><br><span class="line">    pinyinUtil.src = <span class="string">'./static/pinyinUtil.js'</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(pinyinUtil);</span><br><span class="line">    pinyinUtil.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//插件加载完成,你可以在这里或者后面的生命周期里调用插件里的方法</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'插件加载完成'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>JS使用定时器实现长按事件</title>
    <url>/archives/81488588.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 19 2020 14:12:59 GMT+0800 (GMT+08:00) --><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>JS原生事件并没有长按事件,但是我们可以利用一些原生的事件,来实现长按事件</p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>下面的示例是在Vue环境下演示,若使用其他框架转换语法即可。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">touchstart</span>=<span class="string">"longTap"</span> @<span class="attr">touchend</span>=<span class="string">"singleTap"</span> @<span class="attr">touchmove</span>=<span class="string">"contentScroll"</span>&gt;</span>定时器实现长按事件<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 这里监听touchmove事件是为了解决移动端绑定touchstart事件的元素内部无法触摸滚动的问题 --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">	data()&#123;</span><br><span class="line">	  <span class="keyword">return</span> &#123;</span><br><span class="line">       Loop: <span class="number">0</span> </span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	methods:&#123;</span><br><span class="line">     longTap() &#123;</span><br><span class="line">       <span class="keyword">this</span>.Loop = setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">         <span class="keyword">this</span>.Loop = <span class="number">0</span>;</span><br><span class="line">         <span class="comment">//需要长按执行的代码放在下面</span></span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'长按事件'</span>);</span><br><span class="line">       &#125;, <span class="number">500</span>)</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;,</span><br><span class="line">     contentScroll() &#123; <span class="comment">//如果手指有移动，则取消所有事件，此时说明用户只是要移动而不是长按</span></span><br><span class="line">       clearTimeout(<span class="keyword">this</span>.Loop); <span class="comment">//清除计时器 </span></span><br><span class="line">       <span class="keyword">this</span>.Loop = <span class="number">0</span>; <span class="comment">//清除标识位</span></span><br><span class="line">     &#125;,			</span><br><span class="line">     goChat(user) &#123;</span><br><span class="line">       clearTimeout(<span class="keyword">this</span>.Loop);</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.Loop !== <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="comment">//需要点击执行的代码放在下面</span></span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'点击事件'</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;			</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>JavaScript</tag>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>AngularJS基本语法</title>
    <url>/archives/16107.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 19 2020 14:12:59 GMT+0800 (GMT+08:00) --><h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><h3 id="全局安装angular-cli"><a href="#全局安装angular-cli" class="headerlink" title="全局安装angular/cli"></a>全局安装angular/cli</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm install -g @angular/cli</span><br></pre></td></tr></table></figure><h3 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng v</span><br></pre></td></tr></table></figure><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng new 项目名称</span><br></pre></td></tr></table></figure><h2 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng serve 或 ng serve --open（自动打开浏览器）</span><br></pre></td></tr></table></figure><h2 id="查看可创建的控件"><a href="#查看可创建的控件" class="headerlink" title="查看可创建的控件"></a>查看可创建的控件</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng g</span><br></pre></td></tr></table></figure><h2 id="创建自定义组件"><a href="#创建自定义组件" class="headerlink" title="创建自定义组件"></a>创建自定义组件</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ng g component 目录+组件名</span><br><span class="line">例：ng g component components/home</span><br></pre></td></tr></table></figure><h2 id="使用组件"><a href="#使用组件" class="headerlink" title="使用组件"></a>使用组件</h2><h3 id="在home-component-html中填充内容"><a href="#在home-component-html中填充内容" class="headerlink" title="在home.component.html中填充内容"></a>在home.component.html中填充内容</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是首页<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="在根组件中使用"><a href="#在根组件中使用" class="headerlink" title="在根组件中使用"></a>在根组件中使用</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">app-home</span>&gt;</span><span class="tag">&lt;/<span class="name">app-home</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>hello world!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="声明属性的几种方式"><a href="#声明属性的几种方式" class="headerlink" title="声明属性的几种方式"></a>声明属性的几种方式</h2><ul><li><p>public 共有（默认） 可以在当前类里使用, 也可以在类外面使用</p></li><li><p>protected 保护类型 只有在当前类和它的子类里使用</p></li><li><p>private 私有 只有在当前类里可以使用</p></li></ul><h2 id="声明属性"><a href="#声明属性" class="headerlink" title="声明属性"></a>声明属性</h2><h3 id="规范写法"><a href="#规范写法" class="headerlink" title="规范写法"></a>规范写法</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public message:any = <span class="string">'hello world'</span>;</span><br><span class="line">public userInfo:object = &#123;</span><br><span class="line">  userName : <span class="string">'leaveHao'</span>,</span><br><span class="line">  age : <span class="number">22</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">message = <span class="string">'hello world'</span>;</span><br><span class="line">userInfo:object = &#123;</span><br><span class="line">  name : <span class="string">'leaveHao'</span>,</span><br><span class="line">  age : <span class="number">22</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="普通循环-ngFor"><a href="#普通循环-ngFor" class="headerlink" title="普通循环 *ngFor"></a>普通循环 *ngFor</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public arr:any[] = [<span class="string">'北京'</span>,<span class="string">'上海'</span>,<span class="string">'深圳'</span>];</span><br><span class="line">或者</span><br><span class="line">public arr:<span class="built_in">Array</span>&lt;any&gt; = [<span class="string">'北京'</span>,<span class="string">'上海'</span>,<span class="string">'深圳'</span>];</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> *<span class="attr">ngFor</span>=<span class="string">"let item of arr; let i = index"</span>&gt;</span>&#123;&#123;item&#125;&#125;&#123;&#123;i&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">或者</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> *<span class="attr">ngFor</span>=<span class="string">"let item of arr index as i"</span>&gt;</span>&#123;&#123;item&#125;&#125;&#123;&#123;i&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="条件判断-ngIf-ngSwitch"><a href="#条件判断-ngIf-ngSwitch" class="headerlink" title="条件判断 *ngIf *ngSwitch"></a>条件判断 *ngIf *ngSwitch</h2><h3 id="ngIf"><a href="#ngIf" class="headerlink" title="*ngIf"></a>*ngIf</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public flag:boolean = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> *<span class="attr">ngIf</span>=<span class="string">"flag;else notActive"</span> <span class="attr">src</span>=<span class="string">"assets/image/home_active.svg"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ng-template</span> #<span class="attr">notActive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"assets/image/home.svg"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ng-template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ngSwitch"><a href="#ngSwitch" class="headerlink" title="*ngSwitch"></a>*ngSwitch</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">public status:number = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">ngSwitch</span>]=<span class="string">"status"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">"1"</span>&gt;</span>早上<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">"2"</span>&gt;</span>中午<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchCase</span>=<span class="string">"3"</span>&gt;</span>晚上<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngSwitchDefault</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>AngularJS</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>AngularJS</tag>
      </tags>
  </entry>
</search>
